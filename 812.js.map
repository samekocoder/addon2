{"version":3,"file":"812.js","mappings":"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","sources":["webpack://vpnn-extension/./src/app/i18n/index.ts","webpack://vpnn-extension/./src/app/sentry/initSentryReact.ts","webpack://vpnn-extension/./src/locales/en/index.ts","webpack://vpnn-extension/./src/locales/ru/index.ts","webpack://vpnn-extension/./src/popup/shared/components/FeatureToggler/ui/FeatureToggler.module.css","webpack://vpnn-extension/./src/app/features/hooks/useFeaturesList.ts","webpack://vpnn-extension/./src/popup/shared/components/FeatureToggler/ui/FeatureToggler.tsx","webpack://vpnn-extension/./src/popup/shared/hooks/useLocalStorage.ts","webpack://vpnn-extension/./src/app/actions/shared.ts","webpack://vpnn-extension/./src/api/httpClient.ts","webpack://vpnn-extension/./src/background/client/utils.ts","webpack://vpnn-extension/./src/app/storage/local/premium.ts","webpack://vpnn-extension/./src/popup/shared/contexts/FeedbackOverlayContext/FeedbackOverlayContext.tsx","webpack://vpnn-extension/./src/popup/shared/components/ProxyControlledByOtherExtensions/constants.ts","webpack://vpnn-extension/./src/popup/shared/components/ProxyControlledByOtherExtensions/ProxyControlledByOtherExtensions.module.css","webpack://vpnn-extension/./src/popup/shared/components/ProxyControlledByOtherExtensions/ProxyControlledByOtherExtensions.tsx","webpack://vpnn-extension/./src/popup/shared/components/errors/Error/ui/Error.module.css","webpack://vpnn-extension/./src/popup/shared/components/errors/Error/ui/Error.tsx","webpack://vpnn-extension/./src/utils/hooks/useConfigsBaseUrl/index.ts","webpack://vpnn-extension/./src/popup/shared/components/errors/BrowserError/ui/BrowserError.tsx","webpack://vpnn-extension/./src/popup/shared/components/errors/ErrorBoundary/ui/ErrorBoundary.tsx","webpack://vpnn-extension/./src/popup/shared/components/errors/oldVersionError/ui/OldVersionError.tsx","webpack://vpnn-extension/./src/popup/shared/hooks/usePaymentStatus.ts","webpack://vpnn-extension/./src/popup/shared/contexts/Theme/ThemeContext.tsx","webpack://vpnn-extension/./src/popup/shared/contexts/Theme/hooks/useThemeContext.ts","webpack://vpnn-extension/./src/app/alarms/shared.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/shared/Header/ui/Logo.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/shared/Header/ui/Header.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/shared/Header/ui/Header.tsx","webpack://vpnn-extension/./src/popup/shared/components/TransitionWrapper/ui/TransitionWrapper.tsx","webpack://vpnn-extension/./src/popup/shared/components/TransitionWrapper/ui/TransitionWrapper.module.css","webpack://vpnn-extension/./src/popup/shared/hooks/usePremiumData.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/routes/types/RoutePath.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/contexts/ModeSwitcher/ModeSwitcherContext.tsx","webpack://vpnn-extension/./src/popup/shared/components/Button/ui/components/ButtonLoader/ui/ButtonLoader.module.css","webpack://vpnn-extension/./src/popup/shared/components/Button/ui/components/ButtonLoader/ui/ButtonLoader.tsx","webpack://vpnn-extension/./src/popup/shared/components/Button/ui/Button.module.css","webpack://vpnn-extension/./src/popup/shared/components/Button/ui/Button.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/shared/Loader/ui/Loader.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/shared/Loader/ui/Loader.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/ChangeDeviceContent/api/changeDevice.ts","webpack://vpnn-extension/./src/api/premium/urls.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/ChangeDeviceContent/ui/ChangeDeviceContent.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/ChangeDeviceContent/hooks/useChangeDevice.ts","webpack://vpnn-extension/./src/popup/shared/utils/wait/index.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/ChangeDeviceContent/ui/ChangeDeviceContent.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/FreeTrialContent/ui/FreeTrialIcon.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/FreeTrialContent/ui/FreeTrialContent.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/FreeTrialContent/ui/FreeTrialContent.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/Onboarding/ui/constants.ts","webpack://vpnn-extension/./src/popup/shared/components/ConnectButton/ui/PauseIcon.tsx","webpack://vpnn-extension/./src/popup/shared/components/ConnectButton/ui/ConnectButton.module.css","webpack://vpnn-extension/./src/popup/shared/components/ConnectButton/ui/ConnectButton.tsx","webpack://vpnn-extension/./src/popup/shared/components/ConnectButton/hooks/useConnectButton.ts","webpack://vpnn-extension/./src/popup/shared/contexts/FeedbackOverlayContext/hooks/useFeedbackOverlay.ts","webpack://vpnn-extension/./src/popup/shared/components/ConnectButton/ui/ErrorIcon.tsx","webpack://vpnn-extension/./src/popup/shared/components/ConnectButton/ui/PlayIcon.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/ModeSwitcher/ui/ModeSwitcherButton/ui/ModeSwitcherButton.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/ModeSwitcher/ui/ModeSwitcherButton/ui/ModeSwitcherButtonBlockIcon/ui/ModeSwitcherButtonBlockIcon.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/ModeSwitcher/ui/ModeSwitcherButton/ui/ModeSwitcherButton.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/ModeSwitcher/ui/ModeSwitcher.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/ModeSwitcher/ui/ModeSwitcher.tsx","webpack://vpnn-extension/./src/popup/project/youboost-neo/routes/types/RoutePath.ts","webpack://vpnn-extension/./src/api/naruzhuv2/verifyEmail.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/Onboarding/hooks/useEmail.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/Onboarding/ui/components/AuthCodeForm/ui/AuthCodeForm.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/Onboarding/ui/components/AuthCodeForm/ui/AuthCodeForm.tsx","webpack://vpnn-extension/./src/api/naruzhuv2/verifyCode.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/Onboarding/ui/components/CodeVerification/CodeVerification.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/Onboarding/ui/components/CodeVerification/CodeVerification.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/Onboarding/ui/components/EmailVerification/EmailVerification.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/Onboarding/ui/components/EmailVerification/EmailVerification.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/Onboarding/ui/Onboarding.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/Onboarding/ui/Onboarding.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/Onboarding/hooks/useTimer.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/PremiumPromo/ui/MiniLogo.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/PremiumPromo/ui/PremiumPromo.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/PremiumPromo/ui/PremiumPromo.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/PremiumPromo/constants.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/LayoutWrapper/ui/LayoutWrapper.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/components/LayoutWrapper/ui/LayoutWrapper.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/routes/router.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/routes/Root/ui/Root.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/hooks/useOnboardingScreen.ts","webpack://vpnn-extension/./src/popup/shared/contexts/Theme/hooks/useTheme.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/hooks/useChangeDevice.ts","webpack://vpnn-extension/./src/popup/shared/hooks/usePremiumAnimation.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/hooks/useModeSwitcher.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/routes/Root/ui/Root.module.css","webpack://vpnn-extension/./src/popup/project/naruzhuv2/routes/ChangeDevice.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/routes/FreeTrialScreen.tsx","webpack://vpnn-extension/./src/popup/project/naruzhuv2/App.tsx","webpack://vpnn-extension/./src/popup/shared/hooks/useApp.ts","webpack://vpnn-extension/./src/popup/shared/hooks/useVersion.ts","webpack://vpnn-extension/./src/popup/project/naruzhuv2/index.tsx"],"sourcesContent":["import i18n, { type Resource } from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport en from '@locales/en';\nimport ru from '@locales/ru';\nimport { featureStore } from '@app/features/list';\nimport { Feature } from '@app/features/types/Feature';\n\nconst { featuresList } = await featureStore.getSnapshotAsync();\nconst hasMultiLocales = featuresList[Feature.MultiLocalesSupport];\n\nexport const supportedLngs = hasMultiLocales ? ['ru', 'en'] : ['ru'];\n\nconst resources: Resource = hasMultiLocales ? { ru, en } : { ru };\n\ni18n.use(LanguageDetector).use(initReactI18next).init({\n  supportedLngs,\n  fallbackLng: supportedLngs,\n  debug: true,\n  defaultNS: 'shared',\n  resources,\n});\n\nexport default i18n;\n","import * as Sentry from '@sentry/react';\n\nexport function initSentryReact() {\n  Sentry.init({\n    dsn: process.env.SENTRY_DSN,\n    environment: process.env.NODE_ENV,\n    integrations: [\n      Sentry.browserTracingIntegration(),\n      Sentry.replayIntegration(),\n    ],\n    // Tracing\n    tracesSampleRate: 1.0, //  Capture 100% of the transactions\n    // Set 'tracePropagationTargets' to control for which URLs distributed tracing should be enabled\n    tracePropagationTargets: ['localhost', '*'],\n    // Session Replay\n    replaysSessionSampleRate: 0.1, // This sets the sample rate at 10%. You may want to change it to 100% while in development and then sample at a lower rate in production.\n    replaysOnErrorSampleRate: 1.0, // If you're not already sampling the entire session, change the sample rate to 100% when sampling sessions where errors occur.\n    skipBrowserExtensionCheck: true,\n    // enabled: process.env.NODE_ENV === 'production',\n  });\n}\n","import shared from './shared.json';\nimport youboostNeo from './youboost-neo.json';\nimport twihd from './twihd.json';\n\nconst en = {\n  shared,\n  'youboost-neo': youboostNeo,\n  twihd,\n};\n\nexport default en;\n","import shared from './shared.json';\nimport youboostNeo from './youboost-neo.json';\nimport twihd from './twihd.json';\n\nconst ru = {\n  shared,\n  'youboost-neo': youboostNeo,\n  twihd,\n};\n\nexport default ru;\n","// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"mJICyhZh7Kh4xsaWtve1\",\"container\":\"Ma0LW3viaN_qMuzCEk4I\",\"item\":\"eHGSzXQxMfnUttUO72jc\",\"apply-button\":\"OMfmg9E8wwTk1o6Qbadn\"};","import { useSyncExternalStore } from 'react';\nimport { featureStore } from '../list';\n\nexport function useFeaturesList() {\n  return useSyncExternalStore(featureStore.subscribe, featureStore.getSnapshot);\n}\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { Feature } from '../../../../../app/features/types/Feature';\nimport styles from './FeatureToggler.module.css';\nimport { featureStore } from '@app/features/list';\nimport { useFeaturesList } from '@app/features/hooks/useFeaturesList';\nimport { browser_api } from '@app/browser_api';\n\nexport const FeatureToggler: React.FC = () => {\n  const { featuresList: features } = useFeaturesList();\n\n  const [isVisible, setIsVisible] = useState(false);\n\n  const toggleFeature = useCallback((key: Feature, isActive: boolean) => {\n    featureStore.setFeatureValues({ [key]: isActive });\n  }, []);\n\n  useEffect(() => {\n    Object.defineProperty(window, 'magicToggler', {\n      configurable: true,\n      get() {\n        setIsVisible(true);\n        return 'Feature toggler is now visible!';\n      },\n    });\n\n    return () => {\n      // @ts-ignore\n      delete window.magicToggler;\n    };\n  }, []);\n\n  const applyChanges = () => {\n    browser_api.runtime.reload();\n  };\n\n  const handleReset = () => {\n    featureStore.reset();\n    browser_api.runtime.reload();\n  };\n\n  if (!isVisible || !features) {\n    return null;\n  }\n\n  return (\n    <div className={styles.overlay}>\n      <div className={styles.container}>\n        <h3>Feature Toggler</h3>\n        {Object.entries(features).map(([feature, isActive]) => (\n          <label key={feature} className={styles.item}>\n            <input\n              type=\"checkbox\"\n              checked={features[feature as Feature]}\n              onChange={() => toggleFeature(feature as Feature, !isActive)}\n            />\n            {feature}\n          </label>\n        ))}\n        <button className={styles['apply-button']} onClick={applyChanges}>\n          Применить\n        </button>\n        <button className={styles['apply-button']} onClick={handleReset}>\n          Сбросить\n        </button>\n      </div>\n    </div>\n  );\n};\n","import {\n  LocalStoragePremiumData,\n  LocalStoragePremiumKey,\n} from '@app/storage/local/premium';\nimport { LocalStorageKey, LocalStorageData } from '@app/storage/local/shared';\nimport { useState, useEffect } from 'react';\nimport { browser_api } from '@app/browser_api';\nimport type { Storage } from 'webextension-polyfill';\n\ntype StorageValue<K> = K extends LocalStorageKey\n  ? LocalStorageData[K]\n  : K extends LocalStoragePremiumKey\n    ? LocalStoragePremiumData[K]\n    : never;\n\nexport function useLocalStorage<\n  K extends LocalStorageKey | LocalStoragePremiumKey,\n>(key: K | K[], defaultValue?: StorageValue<K>) {\n  const [value, setValue] = useState<StorageValue<K> | null>(\n    defaultValue ?? null,\n  );\n  const storageKey = Array.isArray(key) ? key[0] : key;\n\n  useEffect(() => {\n    // TODO 524 заменить на общий метод получения элемента из localStorage.\n    //  Сейчас получения элемента из localStorage можно получить тремя отдельными дублирующимися методами:\n    //  src/app/storage/local/shared.ts\n    //  src/app/storage/local/premium.ts\n    //  src/app/storage/local/connectionTime.ts\n    //  Сначала надо убрать эти дубли, а затем использовать один метод.\n\n    // Initial value\n    browser_api.storage.local.get(storageKey).then((result) => {\n      setValue(result[storageKey] as StorageValue<K>);\n    });\n\n    // Listen for changes\n    const listener = (changes: { [key: string]: Storage.StorageChange }) => {\n      if (changes[storageKey]) {\n        setValue(changes[storageKey].newValue as StorageValue<K>);\n      }\n    };\n\n    browser_api.storage.local.onChanged.addListener(listener);\n\n    return () => {\n      browser_api.storage.local.onChanged.removeListener(listener);\n    };\n  }, [storageKey]);\n\n  // TODO 524 заменить на общий метод добавления элемента в localStorage.\n  //  Сначала надо убрать дубли, которые описаны выше\n  const set = async (newValue: StorageValue<K>) => {\n    await browser_api.storage.local.set({ [storageKey]: newValue });\n  };\n\n  return [value, set] as const;\n}\n","export enum Actions {\n  FailedVideoOpen = 'FAILED_VIDEO_OPEN',\n  DirectVideoOpen = 'DIRECT_VIDEO_OPEN',\n  ShowPageLoader = 'SHOW_PAGE_LOADER',\n  VideoOpenerReady = 'VIDEO_OPENER_READY',\n  NetworkConnectionRetry = 'NETWORK_CONNECTION_RETRY',\n  NetworkConnectionRetrySuccess = 'NETWORK_CONNECTION_RETRY_SUCCESS',\n  NetworkConnectionRetryFail = 'NETWORK_CONNECTION_RETRY_FAIL',\n  UpdateProxyData = 'UPDATE_PROXY_DATA',\n  OpenPopup = 'OPEN_POPUP',\n  OpenPopupPayment = 'OPEN_POPUP_PAYMENT',\n  OpenPopupChangeDevice = 'OPEN_POPUP_CHANGE_DEVICE',\n  NavigateToFreeTrial = 'NAVIGATE_TO_FREE_TRIAL',\n  NavigateToPayment = 'NAVIGATE_TO_PAYMENT',\n  PopupReady = 'POPUP_READY',\n  SaveTime = 'SAVE_TIME',\n  CreateNewUser = 'CREATE_NEW_USER',\n  CreateNewUserSuccess = 'CREATE_NEW_USER_SUCCESS',\n  NavigateToUnavailableTrial = 'NAVIGATE_TO_UNAVAILABLE_TRIAL',\n}\n","import dayjs, { extend } from 'dayjs';\nimport utc from 'dayjs/plugin/utc';\nimport ky, { HTTPError, type KyRequest, type KyResponse } from 'ky';\nimport {\n  SessionStorageKey,\n  getSessionStorageData,\n  setSessionStorageData,\n} from '../app/storage/session/shared';\nimport { createSentryScope } from '@app/sentry/createSentryScope';\nimport { wait, getFibonacciNumber } from 'src/utils';\nimport { browser_api } from '@app/browser_api';\n\nexport const apiScope = createSentryScope('api');\n\nconst limitInSeconds = 60 * 60;\n\nconst getTimingWithLimit = (timingInSec: number, limitInSec: number) => {\n  if (timingInSec > limitInSec) {\n    return limitInSec;\n  }\n  return timingInSec;\n};\n\nconst getExtensionVersion = (): string => {\n  return browser_api.runtime.getManifest().version;\n};\n\nconst createCustomHeaders = (): Record<string, string> => {\n  return {\n    'X-Client-Version': getExtensionVersion(),\n  };\n};\n\nextend(utc);\n\nexport const httpClient = ky.extend({\n  retry: {\n    limit: 30,\n    methods: ['get', 'post'],\n  },\n  hooks: {\n    beforeRequest: [\n      async (request) => {\n        const { metaApiData } = await getSessionStorageData(\n          SessionStorageKey.MetaApiData,\n        );\n\n        const apiUrl = metaApiData?.apiBaseUrl;\n        const cookieDomain = metaApiData?.cookieDomain;\n\n        const url = new URL(request.url);\n        if (\n          apiUrl &&\n          cookieDomain &&\n          (url.hostname.includes(apiUrl) || url.hostname.includes(cookieDomain))\n        ) {\n          const customHeaders = createCustomHeaders();\n          Object.entries(customHeaders).forEach(([key, value]) => {\n            request.headers.set(key, value);\n          });\n        }\n        return request;\n      },\n    ],\n    beforeRetry: [\n      async ({ error, retryCount }) => {\n        if (!(error instanceof HTTPError)) {\n          await wait(\n            getTimingWithLimit(\n              10 + getFibonacciNumber(retryCount),\n              limitInSeconds,\n            ) * 1000,\n          );\n          return;\n        }\n        const retryAfterHeader = error.response.headers.get('Retry-After');\n        const retryAfterTiming = retryAfterHeader\n          ? Number(retryAfterHeader)\n          : NaN;\n        if (!isNaN(retryAfterTiming)) {\n          await wait(\n            getTimingWithLimit(\n              retryAfterTiming + getFibonacciNumber(retryCount),\n              limitInSeconds,\n            ) * 1000,\n          );\n          return;\n        }\n        await wait(\n          getTimingWithLimit(\n            10 + getFibonacciNumber(retryCount),\n            limitInSeconds,\n          ) * 1000,\n        );\n        return;\n      },\n    ],\n    afterResponse: [\n      async (request, options, response) => {\n        if (response.ok) {\n          const responseClone = response.clone() as KyResponse;\n          const timestampUtc = dayjs.utc().format();\n\n          let responseData = null;\n          try {\n            responseData = await responseClone.json();\n          } catch (err) {\n            responseData = null;\n          }\n\n          const requestLog = {\n            timestampUtc,\n            status: response.status,\n            statusText: response.statusText,\n            url: request.url,\n          };\n          let { apiHttpSuccess } = await getSessionStorageData(\n            SessionStorageKey.ApiHttpSuccess,\n          );\n          if (!apiHttpSuccess) {\n            apiHttpSuccess = {};\n          }\n          await setSessionStorageData({\n            apiHttpSuccess: {\n              ...apiHttpSuccess,\n              [request.url]: requestLog,\n            },\n          });\n        }\n        return response;\n      },\n    ],\n    beforeError: [\n      async (error) => {\n        const { request, response, message } = error;\n        const responseClone = response.clone() as KyResponse;\n        const requestClone = request.clone() as KyRequest;\n\n        apiScope.setExtra('request', requestClone);\n        apiScope.setExtra('response', responseClone);\n        apiScope.setExtra('message', message);\n        apiScope.setLevel('error');\n        apiScope.setTag('request.url', requestClone.url);\n        apiScope.setTag('request.method', requestClone.method);\n        apiScope.setTag('response.status', responseClone.status);\n        apiScope.captureException(new Error(message));\n\n        let requestData = null;\n        let errorData = null;\n        try {\n          requestData = await requestClone.json();\n          errorData = await responseClone.json();\n        } catch {\n          requestData = null;\n          errorData = null;\n        }\n        const timestampUtc = dayjs.utc().format();\n        const errorLog = {\n          timestampUtc,\n          message,\n          errorData,\n          status: responseClone.status,\n          statusText: responseClone.statusText,\n          requestData,\n        };\n        let { apiHttpErrors } = await getSessionStorageData(\n          SessionStorageKey.ApiHttpErrors,\n        );\n        if (!apiHttpErrors) {\n          apiHttpErrors = {};\n        }\n        await setSessionStorageData({\n          apiHttpErrors: {\n            ...apiHttpErrors,\n            [responseClone.url]: errorLog,\n          },\n        });\n        return error;\n      },\n    ],\n  },\n});\n","import {\n  CookieKey,\n  getCookieData,\n  setCookieData,\n} from '@app/storage/cookies/shared';\nimport {\n  LocalStorageKey,\n  getLocalStorageData,\n  setLocalStorageData,\n} from '../../app/storage/local/shared';\n\nexport function generateUUID(): string {\n  // Generate a UUID, for example, using the uuid library if available\n  // return 'xxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n  //   const r = (Math.random() * 16) | 0,\n  //     v = c === 'x' ? r : (r & 0x3) | 0x8;\n  //   return v.toString(16);\n  // });\n  return crypto.randomUUID();\n}\n\nasync function generateDeviceId(): Promise<string> {\n  const deviceId = generateUUID();\n\n  await setCookieData({ [CookieKey.DeviceId]: deviceId });\n  await setLocalStorageData({ [LocalStorageKey.DeviceId]: deviceId });\n\n  return deviceId;\n}\n\nexport async function getDeviceId(): Promise<string> {\n  const { deviceId: localStorageDeviceId } = await getLocalStorageData(\n    LocalStorageKey.DeviceId,\n  );\n\n  if (localStorageDeviceId) {\n    return localStorageDeviceId;\n  }\n\n  const { deviceId: cookieDeviceId } = await getCookieData(CookieKey.DeviceId);\n\n  if (cookieDeviceId) {\n    await setLocalStorageData({ [LocalStorageKey.DeviceId]: cookieDeviceId });\n    return cookieDeviceId;\n  }\n\n  const newDeviceId = await generateDeviceId();\n\n  return newDeviceId;\n}\n\n/**\n * @deprecated - will remove after backend fix\n */\nexport async function getDeviceIP(): Promise<string | undefined> {\n  try {\n    const data = {\n      ip: '127.0.0.1', // dummy ip\n    };\n\n    await setLocalStorageData({ [LocalStorageKey.DeviceIp]: data.ip });\n\n    return data.ip;\n  } catch (error) {\n    console.warn('Error fetching public IP:', error);\n  }\n}\n","import { Actions } from '@app/actions/shared';\nimport {\n  SubscriptionInfoError,\n  fetchSubscriptionInfo,\n} from '../../../api/premium/fetchPremiumData';\nimport {\n  DeviceLimit,\n  GetSubscriptionResponse,\n} from '../../../api/premium/urls';\nimport { getSessionMetaApiData } from '../session/metaApiData';\nimport { setSessionStorageData } from '../session/shared';\nimport {\n  LocalStorageKey,\n  getLocalStorageData,\n  localStorageScope,\n  setLocalStorageData,\n} from './shared';\nimport { getDeviceId, getDeviceIP } from '@background/client/utils';\nimport { getIsPremiumStatus } from '@app/utils/getIsPremiumStatus';\nimport { Tariff } from '@api/premium/types/Tariff';\nimport { browser_api } from '@app/browser_api';\n\nexport enum LocalStoragePremiumKey {\n  UserId = 'userId',\n  DaysLeft = 'daysLeft',\n  HasPremium = 'hasPremium',\n  PaidUntil = 'paidUntil',\n  SecondsLeft = 'secondsLeft',\n  Status = 'status',\n  IsSubscriptionInfoError = 'isSubscriptionInfoError',\n  IsChangeDeviceError = 'isChangeDeviceError',\n  IsAdBannerShown = 'isAdBannerShown',\n  IsAllInternetProxy = 'isAllInternetProxy',\n  PACPremiumData = 'pacPremiumData',\n  IsFreePremiumTrialAvailable = 'isFreePremiumTrialAvailable',\n  CurrentTariff = 'currentTariff',\n  DeviceLimit = 'deviceLimit',\n  ActiveDevices = 'activeDevices',\n}\n\nexport type PaymentStatus = 'New' | 'Paid' | 'Expired' | 'Trial' | 'Free';\n\nexport type PACPremiumData = {\n  premium: string;\n  allInternet: string;\n};\n\nexport type LocalStoragePremiumData = {\n  userId?: string;\n  daysLeft?: number;\n  hasPremium?: boolean;\n  paidUntil?: string;\n  secondsLeft?: number;\n  status?: PaymentStatus;\n  isSubscriptionInfoError?: boolean;\n  isChangeDeviceError?: boolean;\n  isAdBannerShown?: boolean;\n  isAllInternetProxy?: boolean;\n  pacPremiumData?: PACPremiumData;\n  isFreePremiumTrialAvailable?: boolean;\n  currentTariff: Tariff;\n  deviceLimit: DeviceLimit;\n  activeDevices: number;\n};\n\nexport async function getLocalStoragePremiumData<\n  Key extends LocalStoragePremiumKey,\n>(\n  keys: Key[] | Key,\n): Promise<\n  | {\n      [P in Key[][number]]: LocalStoragePremiumData[P];\n    }\n  | LocalStoragePremiumData\n> {\n  if (!Array.isArray(keys)) {\n    return browser_api.storage.local.get(keys) as Promise<{\n      [P in Key[][number]]: LocalStoragePremiumData[P];\n    }>;\n  }\n  return browser_api.storage.local.get(\n    keys,\n  ) as Promise<LocalStoragePremiumData>;\n}\n\nexport async function setLocalStoragePremiumData(\n  data: Partial<LocalStoragePremiumData>,\n): Promise<void> {\n  await browser_api.storage.local.set(data);\n}\n\nexport async function deleteLocalStoragePremiumData(\n  key: LocalStoragePremiumKey | LocalStoragePremiumKey[],\n): Promise<void> {\n  await browser_api.storage.local.remove(key);\n}\n\nfunction isGetSubscriptionInfoError(\n  data: GetSubscriptionResponse | SubscriptionInfoError,\n): data is SubscriptionInfoError {\n  return 'error' in data && data.error !== null;\n}\n\nexport async function getSubscriptionInfo(): Promise<GetSubscriptionResponse | null> {\n  if (process.env.EXTENSION_CODE === 'naruzhuv2') {\n    return null;\n  }\n\n  const isOnlyPremium: boolean = process.env.IS_ONLY_PREMIUM === 'true';\n\n  try {\n    await setLocalStoragePremiumData({ isSubscriptionInfoError: false });\n\n    const { apiBaseUrl } = await getSessionMetaApiData();\n\n    const deviceId = await getDeviceId();\n    const deviceIp = await getDeviceIP();\n\n    const { userId } = await getLocalStoragePremiumData(\n      LocalStoragePremiumKey.UserId,\n    );\n\n    if (!userId) {\n      localStorageScope.captureException(\n        new Error('User ID is empty when fetching subscription info'),\n      );\n      return null;\n    }\n\n    const subscriptionInfo = await fetchSubscriptionInfo(apiBaseUrl, {\n      userId,\n      deviceId,\n      deviceIp,\n    });\n\n    if (isGetSubscriptionInfoError(subscriptionInfo)) {\n      if (subscriptionInfo.error === 'changeDevice') {\n        await browser_api.runtime.sendMessage({\n          action: Actions.OpenPopupChangeDevice,\n        });\n\n        await setLocalStoragePremiumData({ isChangeDeviceError: true });\n        await setLocalStorageData({ targetState: 'disconnected' });\n        return null;\n      }\n\n      if (subscriptionInfo.error === 'requestBlockedError') {\n        await setSessionStorageData({\n          requestBlockedError:\n            'request fetchSubscriptionInfo is probably blocked',\n        });\n      }\n\n      throw new Error(subscriptionInfo.error);\n    }\n\n    const { daysLeft, paidUntil, status, secondsLeft } =\n      subscriptionInfo?.data?.subscription ?? {};\n\n    const {\n      name: currentTariff,\n      deviceLimit,\n      activeDevices,\n    } = subscriptionInfo?.data?.tariff ?? {};\n\n    const isPremiumStatus = getIsPremiumStatus(status);\n\n    await setLocalStoragePremiumData({\n      daysLeft,\n      paidUntil,\n      status,\n      secondsLeft,\n      currentTariff,\n      deviceLimit,\n      activeDevices,\n    });\n\n    const { hasPremium } = await getLocalStoragePremiumData(\n      LocalStoragePremiumKey.HasPremium,\n    );\n\n    const { currentState } = await getLocalStorageData(\n      LocalStorageKey.CurrentState,\n    );\n\n    await setLocalStoragePremiumData({\n      hasPremium: isOnlyPremium || isPremiumStatus,\n    });\n\n    if (status === 'Expired' && hasPremium && currentState === 'connected') {\n      await setLocalStorageData({ targetState: 'disconnected' });\n    }\n\n    return subscriptionInfo;\n  } catch (error) {\n    console.error(error);\n\n    if (error instanceof Error && error.message === 'userNotFound') {\n      throw error;\n    }\n\n    await setLocalStoragePremiumData({ isSubscriptionInfoError: true });\n    return null;\n  }\n}\n","import { createContext, useCallback, useMemo, useState } from 'react';\nimport {\n  LocalStorageKey,\n  getLocalStorageData,\n} from '../../../../app/storage/local/shared';\nimport { useLocalStorage } from '@popup/shared/hooks/useLocalStorage';\nimport { LocalStoragePremiumKey } from '@app/storage/local/premium';\nimport { useFeaturesList } from '@app/features/hooks/useFeaturesList';\nimport { Feature } from '@app/features/types/Feature';\n\nexport type FeedbackOverlayContextType = {\n  isFeedbackOverlayShown: boolean;\n  checkAndShowFeedbackOverlay: () => Promise<void>;\n  closeFeedbackOverlay: () => void;\n};\n\nexport const FeedbackOverlayContext = createContext<\n  FeedbackOverlayContextType | undefined\n>(undefined);\n\nexport function FeedbackOverlayContextProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}): JSX.Element {\n  const [isFeedbackOverlayShown, setIsFeedbackOverlayShown] = useState(false);\n  const [hasPremium] = useLocalStorage(\n    LocalStoragePremiumKey.HasPremium,\n    false,\n  );\n  const { featuresList } = useFeaturesList();\n\n  const canFreeUsersReview = useMemo(\n    () => featuresList[Feature.FreeUsersReview],\n    [featuresList],\n  );\n\n  const checkAndShowFeedbackOverlay = useCallback(async (): Promise<void> => {\n    const { feedbackProvided, connectionCount } = await getLocalStorageData([\n      LocalStorageKey.ConnectionCount,\n      LocalStorageKey.FeedbackProvided,\n    ]);\n\n    const feedbackMilestones = [1, 2, 3, 5, 8, 13, 21, 34, 55];\n\n    if (\n      (hasPremium || canFreeUsersReview) &&\n      !feedbackProvided &&\n      connectionCount !== undefined &&\n      feedbackMilestones.includes(connectionCount)\n    ) {\n      setIsFeedbackOverlayShown(true);\n    }\n  }, [hasPremium, canFreeUsersReview]);\n\n  function closeFeedbackOverlay(): void {\n    setIsFeedbackOverlayShown(false);\n  }\n\n  const value = useMemo(\n    () => ({\n      isFeedbackOverlayShown,\n      checkAndShowFeedbackOverlay,\n      closeFeedbackOverlay,\n    }),\n    [checkAndShowFeedbackOverlay, isFeedbackOverlayShown],\n  );\n\n  return (\n    <FeedbackOverlayContext.Provider value={value}>\n      {children}\n    </FeedbackOverlayContext.Provider>\n  );\n}\n","export const extensionsMap: Record<string, string> = {\n  cfhdojbkjhnklbpkdaibdccddilifddb: 'AdBlock Plus',\n  gighmmpiobklfepjocnamgkkbiglidom: 'AdBlock',\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"koN910L0HKQiDoVfefAe\",\"content\":\"vIEzBfwMbLt7imC8W6F2\",\"description\":\"jnN0L_iQqG3m5UJSDuY4\",\"title\":\"RmkiZeTQObwhTK0y__hG\",\"icon\":\"uxJOOqQPN20zyv4sXeBs\",\"info\":\"UirOh1l16W0ruSekmH9e\",\"warning-info-text\":\"RC3nb9Shf4rAqAvAwUMx\",\"buttons\":\"xIxCVfrxmPRRt64o917V\",\"button\":\"eNpBtM7otQPOeaO8mgrg\",\"link\":\"gmIfuMQrfpa3NTxGF96s\"};","import { useEffect, useState, type ReactElement } from 'react';\nimport { LocalStorageKey } from '@app/storage/local/shared';\nimport { useLocalStorage } from '@popup/shared/hooks/useLocalStorage';\nimport { extensionsMap } from './constants';\n\nimport styles from './ProxyControlledByOtherExtensions.module.css';\ntype ProxyControlledByOtherExtensionsProps = {\n  onClick: () => Promise<void>;\n  children: ReactElement;\n  conflictType: 'proxy' | 'adBlocker';\n};\n\nconst DIAGNOSTIC_URL = process.env.DIAGNOSTIC_EXTENSIONS_URL;\n\nexport function ProxyControlledByOtherExtensions({\n  onClick,\n  children,\n  conflictType,\n}: ProxyControlledByOtherExtensionsProps): JSX.Element {\n  const [dataMonitoring] = useLocalStorage([\n    LocalStorageKey.ExtensionMonitoring,\n  ]);\n  const [name, setName] = useState<string | null>(null);\n  const [fullName, setFullName] = useState<string | null>(null);\n  const [icon, setIcon] = useState<string | null>(null);\n\n  const extensionTitle = process.env.EXTENSION_TITLE ?? 'нашего расширения';\n  const extensionCode = process.env.EXTENSION_CODE;\n\n  useEffect(() => {\n    if (!dataMonitoring?.[conflictType]?.hasConflictingExtension) {\n      return;\n    }\n\n    const {\n      conflictingExtensionIcon,\n      conflictingExtensionId,\n      conflictingExtensionName,\n    } = dataMonitoring[conflictType];\n    const extensionNameFromMap = conflictingExtensionId\n      ? extensionsMap[conflictingExtensionId]\n      : null;\n\n    setIcon(conflictingExtensionIcon ?? null);\n    setName(extensionNameFromMap ?? conflictingExtensionName ?? null);\n    setFullName(conflictingExtensionName ?? null);\n  }, [dataMonitoring, conflictType]);\n\n  const handleLinkClick = async () => {\n    await onClick();\n    window.open(DIAGNOSTIC_URL, '_blank', 'noopener,noreferrer');\n  };\n\n  return (\n    <div className={styles.container}>\n      {children}\n      <div className={styles.content}>\n        <div className={styles.description}>\n          {name ? (\n            <>\n              <h2 className={styles.title}>\n                {icon && (\n                  <img\n                    src={icon}\n                    alt=\"extension-icon\"\n                    className={styles.icon}\n                  />\n                )}\n                <span>{name}</span>\n                <br />\n                <span>Блокирует работу {extensionTitle}</span>\n              </h2>\n              <p className={styles['warning-info-text']}>\n                Пожалуйста, отключите расширение {fullName && `«${fullName}»`},\n                оно мешает работе {extensionTitle}\n              </p>\n            </>\n          ) : (\n            <>\n              <h2 className={styles.title}>\n                Кажется, другие расширения мешают работе {extensionTitle}\n              </h2>\n              <p className={styles['warning-info-text']}>\n                Мы заметили, что одно из расширений в вашем браузере блокирует\n                работу нашего сервиса. Чтобы {extensionTitle} работал корректно,\n                пожалуйста, временно отключите другие расширения, которые влияют\n                на подключение.\n              </p>\n            </>\n          )}\n        </div>\n        <div className={styles.buttons}>\n          {extensionCode === 'youboost-neo' && (\n            <button\n              className={`${styles.button} ${styles.link} premium`}\n              onClick={handleLinkClick}\n            >\n              Нужна помощь?\n            </button>\n          )}\n          <button\n            onClick={onClick}\n            className={`${styles.button} premium`}\n            id=\"proxy-controlled-btn\"\n          >\n            Все понятно\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"smCk0czxwx9En13YlsQg\",\"error\":\"ZW3DXH51S02ODLkxGGf4\",\"emoji\":\"p8BnVvStm3FqCIVbOcaA\",\"reload\":\"eGdUYPJVA84txS9xYXQm\",\"reload-content\":\"GMN_kKnLNg2yIUwnqA9X\",\"loader\":\"IHbDDoP6P7sHutoLGmJQ\",\"spin\":\"y6NkIHnrP3ldT7qm18VQ\",\"code\":\"Zs6TgWIbi08Cxkj5IeTm\"};","import { clsx } from 'clsx';\n\nimport styles from './Error.module.css';\nimport { useTranslation } from 'react-i18next';\nimport { browser_api } from '@app/browser_api';\n\ntype ErrorProps = {\n  className?: string;\n  code?: number;\n  isLoading?: boolean;\n  text?: string | null;\n  textLink?: React.ReactNode;\n  buttonText?: string;\n  onClick?: () => void;\n  header?: React.ReactNode;\n  footer?: React.ReactNode;\n};\n\nexport function Error({\n  className,\n  code,\n  isLoading = false,\n  text,\n  textLink,\n  buttonText,\n  onClick,\n  header,\n  footer,\n}: ErrorProps): JSX.Element {\n  const { t } = useTranslation('shared', {\n    keyPrefix: 'error',\n  });\n\n  const defaultText = t('default-text');\n  const defaultButtonText = t('default-button-text');\n\n  const handleClick = onClick ?? (() => browser_api.runtime.reload());\n\n  return (\n    <div className={clsx(styles.wrapper, className)}>\n      {header && header}\n      <div className={styles.error}>\n        <div className={styles.emoji}>😢</div>\n        <div>\n          <h1>{t('title')}</h1>\n          <p>\n            {text || defaultText}\n            {textLink && textLink}\n          </p>\n        </div>\n        <button\n          disabled={isLoading}\n          type=\"button\"\n          className={styles.reload}\n          onClick={handleClick}\n        >\n          <div className={styles['reload-content']}>\n            {isLoading && <div className={styles.loader} />}\n            {buttonText || defaultButtonText}\n          </div>\n        </button>\n        {!!code && (\n          <span className={styles.code}>\n            {t('error-code')}: {code}\n          </span>\n        )}\n      </div>\n      {footer && footer}\n    </div>\n  );\n}\n","import {\n  getLocalStorageData,\n  LocalStorageKey,\n} from '@app/storage/local/shared';\nimport { useEffect, useState } from 'react';\n\nexport const useConfigsBaseUrl = () => {\n  const [configsUrl, setConfigsUrl] = useState(process.env.CONFIG_BASE_URL_1);\n\n  useEffect(() => {\n    const getConfigsBaseUrl = async () => {\n      const { configsBaseUrl } = await getLocalStorageData(\n        LocalStorageKey.ConfigsBaseUrl,\n      );\n      if (configsBaseUrl) {\n        setConfigsUrl(configsBaseUrl);\n      }\n    };\n    void getConfigsBaseUrl();\n  }, []);\n\n  return { configsUrl };\n};\n","import { Error } from '../../Error';\nimport { useConfigsBaseUrl } from 'src/utils/hooks';\n\ntype BrowserErrorProps = {\n  onClick: () => void;\n  header?: React.ReactNode;\n  footer?: React.ReactNode;\n};\nexport function BrowserError({\n  onClick,\n  header,\n  footer,\n}: BrowserErrorProps): JSX.Element {\n  const { configsUrl } = useConfigsBaseUrl();\n\n  const helpUrl = process.env.HELP_URL\n    ? new URL(process.env.HELP_URL, configsUrl)\n    : null;\n\n  const isNoFAQ: boolean = process.env.IS_NO_FAQ === 'true' || !helpUrl;\n  const title = process.env.EXTENSION_TITLE || '';\n  const text = isNoFAQ\n    ? `К сожалению, ${title} не поддерживает данный\n  браузер. Вы можете продолжить пользоваться расширением, но его работа\n  не гарантирована`\n    : `К сожалению, ${title} не поддерживает данный\n  браузер. Вы можете продолжить пользоваться расширением, но его работа\n  не гарантирована. Для получения списка поддерживаемых браузеров и\n  другой информации о работе расширения перейдите на страницу`;\n\n  return (\n    <Error\n      text={text}\n      textLink={\n        isNoFAQ ? null : (\n          <a href={helpUrl?.toString()} target=\"_blank\" rel=\"noreferrer\">\n            FAQ\n          </a>\n        )\n      }\n      buttonText=\"Ok\"\n      onClick={onClick}\n      header={header}\n      footer={footer}\n    />\n  );\n}\n","import { Component, type ReactElement } from 'react';\nimport { Error } from '../../Error';\ntype ErrorBoundaryProps = {\n  children: ReactElement;\n  footer?: ReactElement;\n};\n\nexport class ErrorBoundary extends Component<\n  ErrorBoundaryProps,\n  { hasError: boolean }\n> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(): { hasError: boolean } {\n    return { hasError: true };\n  }\n\n  render(): JSX.Element {\n    if (this.state.hasError) {\n      return <Error footer={this.props.footer} />;\n    }\n\n    return this.props.children;\n  }\n}\n","import { Error } from '../../Error';\n\nexport function OldVersionError({\n  header,\n}: {\n  header?: React.ReactNode;\n}): JSX.Element {\n  return (\n    <Error\n      code={1003}\n      text=\"Версия вашего расширения устарела, пожалуйста, обновитесь до последней версии или попробуйте полностью переустановить расширение\"\n      buttonText=\"Обновить расширение\"\n      header={header}\n    />\n  );\n}\n","import { LocalStoragePremiumKey } from '@app/storage/local/premium';\nimport { type PaymentStatus } from '@app/storage/local/premium';\nimport { useLocalStorage } from './useLocalStorage';\n\nexport function usePaymentStatus(): PaymentStatus | undefined {\n  const [paymentStatus] = useLocalStorage(LocalStoragePremiumKey.Status);\n\n  return paymentStatus ?? undefined;\n}\n","import { type ReactNode, createContext } from 'react';\nimport { useThemeContext } from './hooks/useThemeContext';\n\nexport type Theme = 'default' | 'premium';\n\nexport type ThemeContextType = {\n  theme: Theme;\n  isThemeLoading: boolean;\n};\n\nexport const ThemeContext = createContext<ThemeContextType | undefined>(\n  undefined,\n);\n\ntype ThemeProviderProps = {\n  children: ReactNode;\n};\n\nexport function ThemeContextProvider({\n  children,\n}: ThemeProviderProps): JSX.Element {\n  const { theme, isThemeLoading } = useThemeContext();\n\n  return (\n    <ThemeContext.Provider value={{ theme, isThemeLoading }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n","import { useEffect, useLayoutEffect, useState } from 'react';\nimport { type Theme } from '../ThemeContext';\nimport { PaymentStatus } from '@app/storage/local/premium';\nimport { usePaymentStatus } from '@popup/shared/hooks/usePaymentStatus';\n\nexport function useThemeContext(): {\n  theme: Theme;\n  isThemeLoading: boolean;\n} {\n  const [theme, setTheme] = useState<Theme>('premium');\n  const [isThemeLoading, setIsThemeLoading] = useState(true);\n  const paymentStatus = usePaymentStatus();\n\n  useEffect(() => {\n    if (paymentStatus !== undefined) {\n      setTheme(paymentStatus === 'Free' ? 'default' : 'premium');\n      setIsThemeLoading(false);\n    }\n  }, [paymentStatus]);\n\n  useLayoutEffect(() => {\n    document.body.classList.toggle('premium', theme === 'premium');\n  }, [theme]);\n\n  return { theme, isThemeLoading };\n}\n","import type { Alarms as PolyfillAlarms } from 'webextension-polyfill';\nimport { browser_api } from '@app/browser_api';\n\nexport enum Alarms {\n  UpdateProxyData = 'updateProxyData',\n  EnableProxy = 'enableProxy',\n  DisableProxy = 'disableProxy',\n  EnableProxyOnFail = 'EnableProxyOnFail',\n  UpdateMetaApiData = 'updateMetaApiData',\n  RestoreLitePAC = 'RestoreLitePAC',\n  UpdatePacScriptToFullPAC = 'UpdatePacScriptToFullPAC',\n  ExtensionMonitoring = 'extensionMonitoring',\n  ExtensionConflictWarningProxy = 'extensionConflictWarningProxy',\n  ExtensionConflictWarningAdBlocker = 'extensionConflictWarningAdBlocker',\n}\n\nexport async function getChromeAlarm(\n  name: Alarms,\n): Promise<PolyfillAlarms.Alarm | undefined> {\n  return await browser_api.alarms.get(name);\n}\n","type IconProps = {\n  className?: string;\n};\n\nexport function Logo({ className }: IconProps): JSX.Element {\n  return (\n    <svg\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={153}\n      height={36}\n      fill=\"none\"\n    >\n      <path\n        fill=\"#FFD600\"\n        d=\"M3.198 0v23.178l-1.007.013c-.76.01-1.46.425-1.824 1.083a1.919 1.919 0 0 0 .027 1.941c.386.642 1.114 1.04 1.91 1.04l.894-.004v5.6L0 36h23.16l3.198-3.15V0H3.198Z\"\n      />\n      <path\n        fill=\"#000\"\n        d=\"M18.765 8.72c1.696 0 3.07-1.354 3.07-3.024s-1.374-3.025-3.07-3.025c-1.696 0-3.071 1.354-3.071 3.025 0 1.67 1.375 3.024 3.07 3.024ZM26.358 16.131h-2.79c-.772 0-1.515-.289-2.078-.809l-2.287-2.11a.494.494 0 0 0-.76.117l-2.318 4.069a1.718 1.718 0 0 0-.052 1.604l5.793 11.822c.456.94-.24 2.026-1.296 2.026a1.44 1.44 0 0 1-1.294-.798l-6.29-12.404-1.202 5.629a1.742 1.742 0 0 1-1.703 1.377l-7.767.034C1.152 26.694.332 25.575.891 24.57a1.53 1.53 0 0 1 1.317-.782l5.683-.073a1.209 1.209 0 0 0 1.166-.949l1.087-4.644c.15-.707.402-1.39.746-2.028l2.392-4.432a.481.481 0 0 0-.423-.707l-2.646-.046c-.613-.01-1.185.3-1.504.816L7.101 14.33a1.221 1.221 0 0 1-1.596.436 1.183 1.183 0 0 1-.477-1.666l1.722-2.842a4.212 4.212 0 0 1 3.754-2.016l3.414.118c2.65.092 5.168 1.16 7.055 2.993l1.968 1.91c.35.34.824.531 1.317.531h2.1M21.076 33.275c-1.275-.223-2.077.263-2.497.678L16.276 36h3.41l1.805-1.625c.438-.442.333-.95-.415-1.1Z\"\n      />\n      <path\n        fill=\"#fff\"\n        d=\"M44.148 20.118h-6.795l-1.23 7.632h-5.205l3-18.828h5.206L37.93 16.41h6.796l1.193-7.488h5.205L48.16 27.75h-5.242l1.23-7.632ZM56.636 28.146c-1.831 0-3.301-.468-4.41-1.404-1.084-.96-1.626-2.256-1.626-3.888 0-4.248 3.217-6.372 9.651-6.372h3.109l.108-.792c.169-1.152.048-2.004-.361-2.556-.386-.576-1.157-.864-2.314-.864-1.831 0-2.952.888-3.361 2.664h-4.989c.458-2.184 1.446-3.804 2.964-4.86 1.543-1.056 3.422-1.584 5.64-1.584 2.77 0 4.819.648 6.144 1.944 1.35 1.272 1.808 3.216 1.374 5.832l-.904 5.724c-.385 2.376-.494 4.296-.325 5.76h-4.988c-.12-.696-.157-1.56-.109-2.592-1.35 1.992-3.217 2.988-5.603 2.988Zm1.771-3.6c1.109 0 2.037-.3 2.784-.9.771-.624 1.24-1.488 1.41-2.592l.253-1.476h-2.458c-1.615 0-2.796.216-3.543.648-.723.408-1.084 1.104-1.084 2.088 0 .648.229 1.188.687 1.62.457.408 1.108.612 1.951.612ZM83.15 8.49c2.072 0 3.771.732 5.096 2.196 1.326 1.44 1.989 3.432 1.989 5.976 0 3.384-.856 6.144-2.567 8.28-1.71 2.136-3.94 3.204-6.687 3.204-1.566 0-2.88-.336-3.94-1.008-1.06-.696-1.82-1.56-2.278-2.592l-1.518 9.612H68.04l3.036-19.26c.29-1.848.507-3.84.651-5.976h5.025c0 1.152-.049 2.22-.145 3.204 1.494-2.424 3.675-3.636 6.543-3.636Zm-3.398 15.66c1.566 0 2.795-.648 3.687-1.944.916-1.32 1.374-3.048 1.374-5.184 0-1.488-.326-2.628-.977-3.42-.65-.792-1.59-1.188-2.819-1.188-1.615 0-2.94.672-3.976 2.016-1.037 1.32-1.555 3.048-1.555 5.184 0 1.44.374 2.556 1.121 3.348.747.792 1.795 1.188 3.145 1.188Z\"\n      />\n      <path\n        fill=\"#fff\"\n        d=\"M94.584 25.626 90.03 8.922h5.386l2.638 11.34 5.856-11.34h5.278L95.09 34.158h-5.277l4.771-8.532Z\"\n      />\n      <path\n        fill=\"#fff\"\n        d=\"m117.137 18.426-7.121 9.324h-5.82l8.495-10.62-4.374-8.208h5.169l3.868 8.136 1.301-8.136h5.133l-1.301 8.172 6.47-8.172h5.603l-7.555 8.748 4.916 10.08h-5.494l-4.157-9.252-1.482 9.252h-5.133l1.482-9.324Z\"\n      />\n      <path\n        fill=\"#fff\"\n        d=\"m138.396 25.626-4.554-16.704h5.386l2.639 11.34 5.855-11.34H153l-14.098 25.236h-5.277l4.771-8.532Z\"\n      />\n    </svg>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"BLOJHZUPyfgLHngffuT_\"};","import { Logo } from './Logo';\n\nimport styles from './Header.module.css';\n\nexport function Header(): JSX.Element {\n  return (\n    <div className={styles.header}>\n      <Logo />\n    </div>\n  );\n}\n","import React, { useRef, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { CSSTransition, SwitchTransition } from 'react-transition-group';\n\nimport styles from './TransitionWrapper.module.css';\n\ntype TransitionWrapperProps = {\n  children: React.ReactNode;\n  header: React.ReactNode;\n};\n\nexport function TransitionWrapper({\n  children,\n  header,\n}: TransitionWrapperProps): JSX.Element {\n  const [isReversed, setIsReversed] = useState(false);\n  const location = useLocation();\n  const ref = useRef(null);\n\n  function handleClick(event: React.MouseEvent<HTMLDivElement>): void {\n    const target = event.target as HTMLElement;\n\n    if (\n      target.closest('[data-close=\"close-icon\"]') ||\n      target.closest('[data-close=\"close-button\"]')\n    ) {\n      setIsReversed(true);\n    } else {\n      setIsReversed(false);\n    }\n  }\n\n  return (\n    <div className={styles.wrapper} onMouseDown={handleClick}>\n      <>{header}</>\n      <SwitchTransition>\n        <CSSTransition\n          className={styles.content}\n          key={location.key}\n          unmountOnExit\n          nodeRef={ref}\n          timeout={350}\n          classNames={{\n            enter: isReversed\n              ? styles['page-enter-reversed']\n              : styles['page-enter'],\n            enterActive: isReversed\n              ? styles['page-enter-active-reversed']\n              : styles['page-enter-active'],\n            exit: isReversed\n              ? styles['page-exit-reversed']\n              : styles['page-exit'],\n            exitActive: isReversed\n              ? styles['page-exit-active-reversed']\n              : styles['page-exit-active'],\n          }}\n        >\n          <div ref={ref}>{children}</div>\n        </CSSTransition>\n      </SwitchTransition>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"hxa1MCGhHERBS3PiOGH4\",\"content\":\"JHATg4MzkPs53I8FskFw\",\"page-enter\":\"PjLWGkfwHcEp2jkda6Gt\",\"page-enter-active\":\"QfaMjlZ5OsAdmOmzZuAG\",\"page-exit\":\"_YUve0uTpVrbG9xYAs3A\",\"page-exit-active\":\"q9RyGWUAlSW_ERz48GkQ\",\"page-enter-reversed\":\"ft6XbCb1pWDv6rQEmMB4\",\"page-enter-active-reversed\":\"lB9Zn8VyDWGRcoAiJnSI\",\"page-exit-reversed\":\"a4y8z9_j6rldXexFi8sQ\",\"page-exit-active-reversed\":\"KCnQfJGNU6UGaUmRgM6f\"};","import { DeviceLimit } from '@api/premium/urls';\nimport { CookieKey, removeCookieData } from '@app/storage/cookies/shared';\nimport {\n  LocalStoragePremiumKey,\n  deleteLocalStoragePremiumData,\n  getLocalStoragePremiumData,\n  type PaymentStatus,\n} from '@app/storage/local/premium';\nimport {\n  deleteLocalStorageData,\n  LocalStorageKey,\n  setLocalStorageData,\n} from '@app/storage/local/shared';\nimport {\n  deleteSessionStorageData,\n  SessionStorageKey,\n} from '@app/storage/session/shared';\nimport { useCallback, useEffect, useState } from 'react';\nimport { browser_api } from '@app/browser_api';\n\ntype PremiumDataHookValues = {\n  userId?: string;\n  premiumDaysLeft?: number;\n  secondsLeft?: number;\n  hasPremium?: boolean;\n  deviceLimit?: DeviceLimit;\n  activeDevices?: number;\n  isError: boolean;\n  isLoading: boolean;\n  handleLogout: () => Promise<void>;\n};\n\nexport function usePremiumData(): PremiumDataHookValues {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [premiumDaysLeft, setPremiumDaysLeft] = useState<number>();\n  const [userId, setUserId] = useState<string>();\n  const [deviceLimit, setDeviceLimit] = useState<number>();\n  const [activeDevices, setActiveDevices] = useState<number>();\n  const [hasPremium, setHasPremium] = useState<boolean>();\n  const [isError, setIsError] = useState<boolean>(false);\n  const [premiumSecondsLeft, setPremiumSecondsLeft] = useState<\n    number | undefined\n  >();\n\n  useEffect(() => {\n    async function getPremiumInfo(): Promise<void> {\n      setIsLoading(true);\n      const {\n        userId: id,\n        daysLeft,\n        hasPremium: hasPremiumCurrently,\n        isSubscriptionInfoError,\n        status,\n        secondsLeft,\n        deviceLimit,\n        activeDevices,\n      } = await getLocalStoragePremiumData([\n        LocalStoragePremiumKey.UserId,\n        LocalStoragePremiumKey.DaysLeft,\n        LocalStoragePremiumKey.HasPremium,\n        LocalStoragePremiumKey.IsSubscriptionInfoError,\n        LocalStoragePremiumKey.Status,\n        LocalStoragePremiumKey.SecondsLeft,\n        LocalStoragePremiumKey.DeviceLimit,\n        LocalStoragePremiumKey.ActiveDevices,\n      ]);\n      setUserId(id);\n      setPremiumDaysLeft(daysLeft);\n      setHasPremium(Boolean(hasPremiumCurrently));\n      setIsError(Boolean(isSubscriptionInfoError));\n      setPremiumSecondsLeft(secondsLeft);\n      setDeviceLimit(deviceLimit);\n      setActiveDevices(activeDevices);\n      setIsLoading(false);\n    }\n\n    void getPremiumInfo();\n  }, []);\n\n  const clearAllAlarms = useCallback(async (): Promise<void> => {\n    await browser_api.alarms.clearAll();\n  }, []);\n\n  const clearLocalStoragePremiumData = useCallback(async (): Promise<void> => {\n    for (const key of Object.values(LocalStoragePremiumKey)) {\n      await deleteLocalStoragePremiumData([key]);\n    }\n  }, []);\n\n  const clearLocalStorageData = useCallback(async (): Promise<void> => {\n    for (const key of Object.values(LocalStorageKey)) {\n      await deleteLocalStorageData([key]);\n    }\n  }, []);\n\n  const clearSessionStorageData = useCallback(async (): Promise<void> => {\n    for (const key of Object.values(SessionStorageKey)) {\n      await deleteSessionStorageData([key]);\n    }\n  }, []);\n\n  const clearCookies = useCallback(async (): Promise<void> => {\n    await removeCookieData([CookieKey.UserId]);\n  }, []);\n\n  useEffect(() => {\n    function listener(changes: {\n      daysLeft?: { newValue?: number };\n      secondsLeft?: { newValue?: number };\n      hasPremium?: { newValue?: boolean };\n      isSubscriptionInfoError?: { newValue?: boolean };\n      status?: { newValue?: PaymentStatus };\n      deviceLimit?: { newValue?: number };\n      activeDevices?: { newValue?: number };\n    }): void {\n      if (changes.daysLeft) {\n        setPremiumDaysLeft(changes.daysLeft.newValue);\n      }\n      if (changes.secondsLeft) {\n        setPremiumSecondsLeft(changes.secondsLeft.newValue);\n      }\n      if (changes.hasPremium) {\n        setHasPremium(Boolean(changes.hasPremium.newValue));\n      }\n      if (changes.isSubscriptionInfoError) {\n        setIsError(Boolean(changes.isSubscriptionInfoError.newValue));\n      }\n      if (changes.deviceLimit) {\n        setPremiumDaysLeft(changes.deviceLimit.newValue);\n      }\n      if (changes.activeDevices) {\n        setActiveDevices(changes.activeDevices.newValue);\n      }\n    }\n\n    browser_api.storage.onChanged.addListener(listener);\n    return () => {\n      browser_api.storage.onChanged.removeListener(listener);\n    };\n  }, []);\n\n  useEffect(() => {\n    function listener(changes: { userId?: { newValue?: string } }): void {\n      if (changes.userId) {\n        setUserId(changes.userId.newValue);\n      }\n    }\n\n    browser_api.storage.onChanged.addListener(listener);\n    return () => {\n      browser_api.storage.onChanged.removeListener(listener);\n    };\n  }, []);\n\n  const handleLogout = useCallback(async (): Promise<void> => {\n    await clearLocalStoragePremiumData();\n    await clearLocalStorageData();\n    await clearCookies();\n    await clearAllAlarms();\n    await clearSessionStorageData();\n\n    await setLocalStorageData({ onboardingScreenStatus: 'step-zero' });\n\n    setUserId(undefined);\n    setPremiumDaysLeft(undefined);\n    setHasPremium(undefined);\n    setIsError(false);\n    setPremiumSecondsLeft(undefined);\n  }, [\n    clearAllAlarms,\n    clearCookies,\n    clearLocalStorageData,\n    clearLocalStoragePremiumData,\n    clearSessionStorageData,\n  ]);\n\n  return {\n    isLoading,\n    hasPremium,\n    userId,\n    premiumDaysLeft,\n    isError,\n    secondsLeft: premiumSecondsLeft,\n    handleLogout,\n    deviceLimit,\n    activeDevices,\n  };\n}\n","import { RoutePathType } from '@popup/shared/types/route';\n\nexport const RoutePath: RoutePathType<{\n  FreeTrial: string;\n}> = {\n  Root: '/',\n  ChangeDevice: '/change-device',\n  FreeTrial: '/free-trial',\n};\n","import {\n  LocalStoragePremiumKey,\n  getLocalStoragePremiumData,\n} from '@app/storage/local/premium';\nimport { usePremiumData } from '@popup/shared/hooks/usePremiumData';\nimport {\n  createContext,\n  useCallback,\n  useLayoutEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { RoutePath } from '../../routes/types/RoutePath';\n\nexport type ModeSwitcherContextType = {\n  isYoutubeMode: boolean;\n  hasPremium: boolean;\n  onModeChange: (isYoutubeMode: boolean) => void;\n};\n\nconst DEFAULT_VALUE = {\n  isYoutubeMode: true,\n  hasPremium: false,\n  onModeChange: (isYoutubeMode: boolean) => {},\n};\n\nexport const ModeSwitcherContext =\n  createContext<ModeSwitcherContextType>(DEFAULT_VALUE);\n\nexport function ModeSwitcherContextProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [isYoutubeMode, setIsYoutubeMode] = useState(true);\n\n  const { hasPremium } = usePremiumData();\n\n  const navigate = useNavigate();\n\n  useLayoutEffect(() => {\n    async function getModeValue() {\n      const { isAllInternetProxy } = await getLocalStoragePremiumData(\n        LocalStoragePremiumKey.IsAllInternetProxy,\n      );\n\n      setIsYoutubeMode(!isAllInternetProxy);\n    }\n\n    if (hasPremium) {\n      getModeValue();\n    }\n  }, [hasPremium]);\n\n  const handleModeChange = useCallback(() => {\n    navigate(RoutePath.FreeTrial);\n    return;\n  }, [navigate]);\n\n  const value = useMemo(\n    () => ({\n      isYoutubeMode,\n      hasPremium: !!hasPremium,\n      onModeChange: handleModeChange,\n    }),\n    [isYoutubeMode, hasPremium, handleModeChange],\n  );\n\n  return (\n    <ModeSwitcherContext.Provider value={value}>\n      {children}\n    </ModeSwitcherContext.Provider>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"loader-points\":\"m46wmAeBRBK5LlzGMq89\",\"l3\":\"dI3Sz_pPKtwdIbVK66_K\",\"loader-circle\":\"vzNkvWKnEURqu4fpnQNf\",\"spin\":\"UWTvYV42oOLX9De0RSGr\"};","import clsx from 'clsx';\n\nimport styles from './ButtonLoader.module.css';\n\nexport type ButtonLoaderVariant = 'points' | 'circle';\n\ntype ButtonLoaderProps = {\n  variant?: ButtonLoaderVariant;\n  className?: string;\n};\n\nexport function ButtonLoader({\n  variant = 'points',\n  className,\n}: ButtonLoaderProps) {\n  return <div className={clsx(styles[`loader-${variant}`], className)} />;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"common\":\"SQtn8yRGfd6NWpwXiQjY\",\"primary\":\"kJn3vDMkFdJcGSjYNX0Q\",\"primary-n\":\"aK70L5tX1RKD6hjaqtr4\",\"secondary\":\"CxhoeXCtzrL1xxvCfI_c\",\"default\":\"UzgO8rWVkAZQjVsmUoRE\",\"small\":\"KR7OTCTXS7TGm7lmiteG\",\"sharp\":\"_9bWIQAy8dBpFS9k3VEpA\",\"link\":\"ddTauSrCDOAdKGb21DK5\"};","import { clsx } from 'clsx';\nimport { forwardRef, type ButtonHTMLAttributes } from 'react';\nimport {\n  ButtonLoader,\n  ButtonLoaderVariant,\n} from './components/ButtonLoader/ui/ButtonLoader';\n\nimport styles from './Button.module.css';\n\ntype ButtonProps = ButtonHTMLAttributes<HTMLButtonElement> & {\n  variant?: 'primary' | 'primary-n' | 'secondary' | 'link';\n  size?: 'default' | 'small';\n  type?: 'button' | 'submit';\n  sharp?: boolean;\n  loading?: boolean;\n  loaderVariant?: ButtonLoaderVariant;\n  loaderClassName?: string;\n};\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      variant = 'primary',\n      size = 'default',\n      type = 'button',\n      sharp = false,\n      children,\n      className,\n      loading,\n      loaderVariant,\n      loaderClassName,\n      ...rest\n    },\n    ref,\n  ) => {\n    return (\n      <button\n        ref={ref}\n        className={clsx(\n          styles.common,\n          styles[variant],\n          styles[size],\n          sharp && styles.sharp,\n          className,\n        )}\n        type={type === 'button' ? 'button' : 'submit'}\n        {...rest}\n        data-variant={variant}\n      >\n        {loading && (\n          <ButtonLoader variant={loaderVariant} className={loaderClassName} />\n        )}\n        {children}\n      </button>\n    );\n  },\n);\n\nButton.displayName = 'Button';\n","import { clsx } from 'clsx';\nimport { type ReactNode } from 'react';\nimport styles from './Loader.module.css';\n\nexport function Loader({\n  className,\n  children,\n}: {\n  className?: string;\n  children?: ReactNode;\n}): JSX.Element {\n  return (\n    <div className={clsx(styles.wrapper, className)}>\n      <svg\n        className={styles.loader}\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n        viewBox=\"0 0 100 100\"\n        enableBackground=\"new 0 0 0 0\"\n        xmlSpace=\"preserve\"\n      >\n        <circle fill=\"currentColor\" stroke=\"none\" cx=\"29\" cy=\"50\" r=\"6\">\n          <animate\n            attributeName=\"opacity\"\n            dur=\"1s\"\n            values=\"0;1;0\"\n            repeatCount=\"indefinite\"\n            begin=\"0.1\"\n          />\n        </circle>\n        <circle fill=\"currentColor\" stroke=\"none\" cx=\"49\" cy=\"50\" r=\"6\">\n          <animate\n            attributeName=\"opacity\"\n            dur=\"1s\"\n            values=\"0;1;0\"\n            repeatCount=\"indefinite\"\n            begin=\"0.2\"\n          />\n        </circle>\n        <circle fill=\"currentColor\" stroke=\"none\" cx=\"69\" cy=\"50\" r=\"6\">\n          <animate\n            attributeName=\"opacity\"\n            dur=\"1s\"\n            values=\"0;1;0\"\n            repeatCount=\"indefinite\"\n            begin=\"0.3\"\n          />\n        </circle>\n      </svg>\n      <div className={styles.info}>{children}</div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ahdmCIWdnpdaPqe9wlH6\",\"loader\":\"SyLums1uU0W7mbdJH3gu\",\"info\":\"tYYxKXsTswGXJevNLIMg\"};","import { getChangeDeviceApiUrl } from '../../../../../../api/premium/urls';\nimport { getSessionMetaApiData } from '../../../../../../app/storage/session/metaApiData';\nimport { httpClient } from '../../../../../../api/httpClient';\nimport { getDeviceId, getDeviceIP } from '@background/client/utils';\n\nexport async function changeDevice(userId: string): Promise<void> {\n  const { apiBaseUrl } = await getSessionMetaApiData();\n\n  const deviceId = await getDeviceId();\n  const deviceIp = await getDeviceIP();\n\n  const changeDeviceApiUrl = getChangeDeviceApiUrl(apiBaseUrl);\n  await httpClient\n    .post(changeDeviceApiUrl, {\n      json: {\n        userId,\n        deviceId,\n        deviceIp,\n      },\n    })\n    .json();\n}\n","import { type PaymentStatus } from '../../app/storage/local/premium';\nimport { PaymentMethod } from '../../app/storage/session/shared';\nimport { type Tariff } from './types/Tariff';\n\nconst PREFIX = 'premium/api/v1/uboost-premium';\nconst PREFIX_V2 = 'premium/api/v2/uboost-premium';\nconst PREFIX_V3 = 'api/v2/premium';\n\nconst CREATE_NEW_USER_API = `${PREFIX}/create-new-user`;\n\nexport type CreateNewUserResponse = {\n  userId: string;\n};\n\nexport type CreateNewPaymentLink = {\n  userId: string;\n  tariffName: string;\n  paymentMethod: PaymentMethod;\n};\n\nexport function getCreateNewUserApiUrl(\n  apiBase: string,\n): ReturnType<typeof createApiUrl<typeof CREATE_NEW_USER_API>> {\n  return createApiUrl(apiBase, CREATE_NEW_USER_API);\n}\n\nconst GET_SUBSCRIPTION_API = `${PREFIX_V3}/update-and-get-subscription`;\n\nexport type GetSubscriptionResponse = {\n  data: {\n    user: {\n      public_user_id: string;\n    };\n    subscription: {\n      status: PaymentStatus;\n      paidUntil: string;\n      daysLeft: number;\n      secondsLeft: number;\n    };\n    tariff: {\n      name: Tariff;\n      deviceLimit: DeviceLimit;\n      activeDevices: number;\n    };\n  };\n};\n\nexport function getSubscriptionApiUrl(\n  apiBase: string,\n): ReturnType<typeof createApiUrl<typeof GET_SUBSCRIPTION_API>> {\n  return createApiUrl(apiBase, GET_SUBSCRIPTION_API);\n}\n\nconst CANCEL_SUBSCRIPTION_API = `${PREFIX}/cancel-subscription`;\n\nexport type CancelSubscriptionStatus = 'Canceled' | 'CanceledNoRefund';\n\nexport type CancelSubscriptionResponse = {\n  status: CancelSubscriptionStatus;\n};\n\nexport function getCancelSubscriptionApiUrl(\n  apiBase: string,\n): ReturnType<typeof createApiUrl<typeof CANCEL_SUBSCRIPTION_API>> {\n  return createApiUrl(apiBase, CANCEL_SUBSCRIPTION_API);\n}\n\nconst GET_PROXY_API = `${PREFIX_V2}/get-proxy`;\n\nexport function getProxyApiUrl(\n  apiBase: string,\n): ReturnType<typeof createApiUrl<typeof GET_PROXY_API>> {\n  return createApiUrl(apiBase, GET_PROXY_API);\n}\n\nconst CHANGE_DEVICE_API = `${PREFIX}/change-device`;\n\nexport function getChangeDeviceApiUrl(\n  apiBase: string,\n): ReturnType<typeof createApiUrl<typeof CHANGE_DEVICE_API>> {\n  return createApiUrl(apiBase, CHANGE_DEVICE_API);\n}\n\nconst CHECK_TARIFF_API = `${PREFIX}/check-tariff`;\n\nexport function getCheckTariffApiUrl(\n  apiBase: string,\n): ReturnType<typeof createApiUrl<typeof CHECK_TARIFF_API>> {\n  return createApiUrl(apiBase, CHECK_TARIFF_API);\n}\n\nexport type CheckTariffResponse = {\n  status: 'allowed' | 'disallowed';\n};\n\nconst SETUP_TARIFF_API = `${PREFIX}/setup-tariff`;\n\nexport function getSetupTariffApiUrl(\n  apiBase: string,\n): ReturnType<typeof createApiUrl<typeof SETUP_TARIFF_API>> {\n  return createApiUrl(apiBase, SETUP_TARIFF_API);\n}\n\nexport type SetupTariffResponse =\n  | {\n      status: 'done';\n      paymentLink: null;\n    }\n  | {\n      status: 'need_payment';\n      paymentLink: string;\n    };\n\nconst SETUP_TARIFF_FREE_API = `${PREFIX_V3}/set-free-status`;\n\nexport function getSetupTariffFreeApiUrl(\n  apiBase: string,\n): ReturnType<typeof createApiUrl<typeof SETUP_TARIFF_FREE_API>> {\n  return createApiUrl(apiBase, SETUP_TARIFF_FREE_API);\n}\n\nexport type SetupTariffFreeResponse = GetSubscriptionResponse;\n\nconst FETCH_TARIFFS_API = `${PREFIX}/get-tariffs`;\n\nexport function getFetchTariffsApiUrl(\n  apiBase: string,\n): ReturnType<typeof createApiUrl<typeof FETCH_TARIFFS_API>> {\n  return createApiUrl(apiBase, FETCH_TARIFFS_API);\n}\n\nconst CREATE_NEW_PAYMENT_LINK_API = `${PREFIX}/new-payment-link`;\n\nexport function getCreateNewPaymentLinkUrl(\n  apiBase: string,\n): ReturnType<typeof createApiUrl<typeof CREATE_NEW_PAYMENT_LINK_API>> {\n  return createApiUrl(apiBase, CREATE_NEW_PAYMENT_LINK_API);\n}\n\nexport type CreateNewPaymentLinkResponse = {\n  url: string;\n};\n\nexport type DeviceLimit = number;\n\nexport type TariffData = {\n  tariff: Tariff;\n  price: number;\n  unlockedDays: number;\n  period: string;\n  description: null;\n  monthPrice: number;\n  deviceLimit: DeviceLimit;\n};\n\nexport type FetchTariffsResponse = TariffData[];\n\nfunction createApiUrl<T extends string>(\n  apiBase: string,\n  apiRoute: T,\n): `https://${string}/${T}` {\n  return `https://${apiBase}/${apiRoute}`;\n}\n","import {\n  OnboardingScreenStatus,\n  setLocalStorageData,\n} from '@app/storage/local/shared';\nimport { Button } from '@popup/shared/components/Button';\nimport { Error } from '@popup/shared/components/errors/Error';\nimport { Loader } from '../../shared/Loader';\nimport { useChangeDevice } from '../hooks/useChangeDevice';\n\nimport styles from './ChangeDeviceContent.module.css';\n\nexport function ChangeDeviceContent(): JSX.Element {\n  const {\n    handleCancelChangeDevice,\n    handleChangeDevice,\n    isChangeDeviceError,\n    isChangeDeviceLoading,\n  } = useChangeDevice(async (status: OnboardingScreenStatus) => {\n    await setLocalStorageData({ onboardingScreenStatus: status });\n  });\n\n  if (isChangeDeviceLoading) {\n    return <Loader className={styles.loader}>Смена устройства...</Loader>;\n  }\n\n  if (isChangeDeviceError) {\n    return <Error />;\n  }\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.content}>\n        <p>Ваш логин уже используется на другом устройстве</p>\n        <p>Хотите использовать это устройство?</p>\n      </div>\n      <div className={styles.buttons}>\n        <Button onClick={handleChangeDevice} variant=\"primary\">\n          Да\n        </Button>\n        <Button onClick={handleCancelChangeDevice} variant=\"secondary\">\n          Нет\n        </Button>\n      </div>\n    </div>\n  );\n}\n","import {\n  getSubscriptionInfo,\n  setLocalStoragePremiumData,\n} from '@app/storage/local/premium';\nimport {\n  LocalStorageKey,\n  OnboardingScreenStatus,\n  getLocalStorageData,\n  setLocalStorageData,\n} from '@app/storage/local/shared';\nimport { usePremiumData } from '@popup/shared/hooks/usePremiumData';\nimport { wait } from '@popup/shared/utils/wait';\nimport { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { RoutePath } from '../../../routes/types/RoutePath';\nimport { changeDevice } from '../api/changeDevice';\n\ntype ChangeDeviceHookValues = {\n  handleChangeDevice: () => Promise<void>;\n  handleCancelChangeDevice: () => Promise<void>;\n  isChangeDeviceError: boolean;\n  isChangeDeviceLoading: boolean;\n};\n\ntype NavigationState = {\n  userId: string;\n};\n\nexport function useChangeDevice(\n  updateOnboardingScreenStatus?: (\n    status: OnboardingScreenStatus,\n  ) => Promise<void>,\n): ChangeDeviceHookValues {\n  const [isChangeDeviceError, setIsChangeDeviceError] = useState(false);\n  const [isChangeDeviceLoading, setIsChangeDeviceLoading] = useState(false);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { handleLogout } = usePremiumData();\n\n  async function handleChangeDevice(): Promise<void> {\n    try {\n      setIsChangeDeviceLoading(true);\n      const { userId } = location.state as NavigationState;\n      await Promise.all([wait(1500), changeDevice(userId)]);\n      await setLocalStoragePremiumData({\n        userId,\n        isChangeDeviceError: false,\n      });\n      const subscriptionInfo = await getSubscriptionInfo();\n\n      updateOnboardingScreenStatus &&\n        (await updateOnboardingScreenStatus(\n          subscriptionInfo?.data?.subscription?.status !== 'New'\n            ? 'step-zero'\n            : 'done',\n        ));\n      const { targetState } = await getLocalStorageData(\n        LocalStorageKey.TargetState,\n      );\n      await setLocalStorageData({ currentState: targetState });\n      navigate(RoutePath.Root);\n    } catch (error) {\n      console.error(error);\n      setIsChangeDeviceError(true);\n    } finally {\n      setIsChangeDeviceLoading(false);\n    }\n  }\n\n  async function handleCancelChangeDevice(): Promise<void> {\n    await handleLogout();\n    navigate(RoutePath.Root);\n  }\n\n  return {\n    handleChangeDevice,\n    handleCancelChangeDevice,\n    isChangeDeviceError,\n    isChangeDeviceLoading,\n  };\n}\n","export async function wait(ms: number): Promise<void> {\n  await new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ULvdJZWWIuJ4j77HBGQ8\",\"content\":\"MQMvgciGfWgWsTNyUhXI\",\"buttons\":\"LAeSfuJDh_vr0IyAshsV\",\"loader\":\"Z0Z9JemAlSyT0SphniJV\"};","export const FreeTrialIcon = ({ className }: { className?: string }) => (\n  <svg\n    className={className}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={114}\n    height={114}\n    fill=\"none\"\n  >\n    <rect\n      width={100}\n      height={92}\n      x={12}\n      y={20}\n      stroke=\"#878686\"\n      strokeWidth={4}\n      rx={6}\n    />\n    <path\n      fill=\"#1C1C1C\"\n      d=\"M0 16a8 8 0 0 1 8-8h88a8 8 0 0 1 8 8v80a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V16Z\"\n    />\n    <path\n      fill=\"#878686\"\n      fillRule=\"evenodd\"\n      d=\"M96 12H8a4 4 0 0 0-4 4v80a4 4 0 0 0 4 4h88a4 4 0 0 0 4-4V16a4 4 0 0 0-4-4ZM8 8a8 8 0 0 0-8 8v80a8 8 0 0 0 8 8h88a8 8 0 0 0 8-8V16a8 8 0 0 0-8-8H8Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"#878686\"\n      fillRule=\"evenodd\"\n      d=\"M47 0a2 2 0 0 1 2 2v14a2 2 0 1 1-4 0V2a2 2 0 0 1 2-2ZM58 0a2 2 0 0 1 2 2v14a2 2 0 1 1-4 0V2a2 2 0 0 1 2-2Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"#878686\"\n      fillRule=\"evenodd\"\n      d=\"M95.735 12.085H8.265c-2.282 0-4.133 1.83-4.133 4.085v19.745h95.736V16.17c0-2.256-1.85-4.085-4.133-4.085ZM8.265 8C3.7 8 0 11.658 0 16.17V40h104V16.17c0-4.512-3.7-8.17-8.265-8.17H8.265Z\"\n      clipRule=\"evenodd\"\n    />\n\n    <path fill=\"#1C1C1C\" d=\"M43 59h47v19H43z\" />\n    <path\n      fill=\"#fff\"\n      d=\"m42.424 76.796.864-5.228h.818c.3-.166.583-.401.852-.704.273-.303.534-.737.784-1.302.25-.564.493-1.32.727-2.266l1.205-4.932h8.227l-1.522 9.204h1.227l-.864 5.228h-3.045L52.15 74h-6.227l-.455 2.796h-3.045Zm5.295-5.228h3.614l1.091-6.659h-2.34l-.57 2.386a16.66 16.66 0 0 1-.55 1.87c-.197.53-.402.992-.614 1.386-.208.39-.418.73-.63 1.017ZM56.265 74l1.932-11.636h3.159l-.75 4.545h4.182l.75-4.545h3.159L66.765 74h-3.16l.75-4.546h-4.181L59.424 74h-3.16Zm12 0 1.932-11.636h8.386l-.432 2.545h-5.227l-.318 2H77.4l-.431 2.545h-4.796l-.318 2h5.204L76.63 74h-8.364ZM80.15 62.364h3.159l-1.011 6.09h.09l5.148-6.09h2.682L88.286 74h-3.159l1.011-6.114h-.068L80.854 74h-2.636l1.932-11.636Zm6.648-3.137h1.977c-.125.739-.504 1.33-1.137 1.773-.632.44-1.424.66-2.375.66-.958 0-1.681-.22-2.17-.66-.489-.443-.67-1.034-.545-1.773h1.954a.874.874 0 0 0 .154.66c.143.196.426.295.846.295.41 0 .716-.097.92-.29.205-.193.33-.415.376-.665Z\"\n    />\n  </svg>\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"PgjZg9NZ_7f3CTSGt2lA\",\"title\":\"lgpADmmA7aiBJg6mvAAz\",\"icon-wrapper\":\"z88I6lC56lZBgRAne1kc\",\"icon-container\":\"ibhdh5njS5LDNNve275b\",\"days\":\"WLJlyQdT7BGyJr9VC5US\",\"icon\":\"FjAByVtAliet5O7sNKCl\",\"button\":\"vsbqrTYaoEoabArf66Yp\"};","import { Button } from '@popup/shared/components/Button';\nimport { FreeTrialIcon } from './FreeTrialIcon';\nimport { Link } from 'react-router-dom';\nimport { RoutePath } from '@popup/project/naruzhuv2/routes/types/RoutePath';\n\nimport styles from './FreeTrialContent.module.css';\n\nexport const FreeTrialContent: React.FC = () => {\n  const days = process.env.FREE_TRIAL_DAYS_NUMBER;\n  const tryForFree = () => {\n    const link = process.env.TRY_FOR_FREE_URL;\n\n    if (!link) {\n      return;\n    }\n    window.open(link, '_blank');\n  };\n\n  return (\n    <>\n      <div className={styles.container}>\n        <h1 className={styles.title}>\n          Бесплатно и без ограничений\n          <br />\n          на {days} дней\n        </h1>\n        <div className={styles['icon-wrapper']}>\n          <div className={styles['icon-container']}>\n            <FreeTrialIcon className={styles.icon} />\n            <span className={styles.days}>{days}</span>\n          </div>\n        </div>\n        <Button\n          variant=\"primary\"\n          className={styles.button}\n          size=\"small\"\n          onClick={tryForFree}\n        >\n          Попробовать бесплатно\n        </Button>\n        <Link to={RoutePath.Root}>\n          <Button variant=\"primary-n\" className={styles.button} size=\"small\">\n            Вернуться назад\n          </Button>\n        </Link>\n      </div>\n    </>\n  );\n};\n","import { LimitedOnboardingStatus } from './types';\n\nexport enum OnboardingStep {\n  StepZero = 'step-zero',\n  StepOne = 'step-one',\n  Done = 'done',\n}\n\nexport const stepMap: Record<number, LimitedOnboardingStatus> = {\n  0: OnboardingStep.StepZero,\n  1: OnboardingStep.StepOne,\n  2: OnboardingStep.Done,\n};\n\nexport const stepMapReverse: Record<LimitedOnboardingStatus, number> = {\n  [OnboardingStep.StepZero]: 0,\n  [OnboardingStep.StepOne]: 1,\n  [OnboardingStep.Done]: 2,\n};\n","export const PauseIcon = () => {\n  return (\n    <svg\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M6.75 3C6.55109 3 6.36032 3.07902 6.21967 3.21967C6.07902 3.36032 6 3.55109 6 3.75V20.25C6 20.4489 6.07902 20.6397 6.21967 20.7803C6.36032 20.921 6.55109 21 6.75 21H8.25C8.44891 21 8.63968 20.921 8.78033 20.7803C8.92098 20.6397 9 20.4489 9 20.25V3.75C9 3.55109 8.92098 3.36032 8.78033 3.21967C8.63968 3.07902 8.44891 3 8.25 3H6.75ZM15.75 3C15.5511 3 15.3603 3.07902 15.2197 3.21967C15.079 3.36032 15 3.55109 15 3.75V20.25C15 20.4489 15.079 20.6397 15.2197 20.7803C15.3603 20.921 15.5511 21 15.75 21H17.25C17.4489 21 17.6397 20.921 17.7803 20.7803C17.921 20.6397 18 20.4489 18 20.25V3.75C18 3.55109 17.921 3.36032 17.7803 3.21967C17.6397 3.07902 17.4489 3 17.25 3H15.75Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"connect-button\":\"VxMCJzx3MlQmSJxOpXxf\",\"content\":\"eWPTa72qQyLEPIvIm_Nc\",\"icon\":\"kXJzsdRJbOmFW17GjvQQ\",\"disabled\":\"rdI1oNhh60tp6Xca4yZE\",\"enabled\":\"hQ0YNeSVAtu1OF65oMPP\",\"connecting\":\"cPNOb7zbASUvsugKANTy\",\"rotation\":\"Vo1tz8MkcZanJf3mV3Jw\",\"error\":\"T1roeABRsYEcugHS5hL4\",\"error-info\":\"WzkqYTUDpeOBmgxAcSgf\",\"description\":\"aazQjm4V8HfoPLYgi6py\",\"connect-button-twihd\":\"t23Zr1LcNAld2dUEVLbw\",\"content-twihd\":\"dA5DwkkdnIsmkQ1DUTMN\",\"icon-twihd\":\"SmSUhSv0TsmqjpuWyiD2\"};","import { usePaymentStatus } from '@popup/shared/hooks/usePaymentStatus';\nimport { usePremiumData } from '@popup/shared/hooks/usePremiumData';\nimport { clsx } from 'clsx';\nimport { useConnectButton } from '../hooks/useConnectButton';\nimport { PauseIcon } from './PauseIcon';\nimport { PlayIcon } from './PlayIcon';\nimport { ErrorIcon } from './ErrorIcon';\n\nimport styles from './ConnectButton.module.css';\nimport { useTranslation } from 'react-i18next';\n\nexport const ConnectButton = ({\n  onExpiredRoute,\n  className,\n  variant = 'default',\n}: {\n  onExpiredRoute?: string;\n  className?: string;\n  variant?: 'default' | 'twihd';\n}): JSX.Element => {\n  const { t } = useTranslation(variant !== 'default' ? variant : 'shared', {\n    keyPrefix: 'connect-button',\n  });\n\n  const { handleClick, status } = useConnectButton({\n    onExpiredRoute,\n  });\n\n  const paymentStatus = usePaymentStatus();\n  const { hasPremium } = usePremiumData();\n\n  const Icon = () => {\n    if (status === 'connected') {\n      return PauseIcon();\n    }\n    if (status === 'error') {\n      return ErrorIcon();\n    }\n    return PlayIcon();\n  };\n\n  return (\n    <div className={className}>\n      <button\n        className={clsx({\n          [styles['connect-button']]: variant === 'default',\n          [styles[`connect-button-${variant}`]]: variant !== 'default',\n          [styles.enabled]: status === 'connected',\n          [styles.connecting]: status === 'connecting',\n          [styles.error]: status === 'error',\n          [styles.disabled]:\n            (paymentStatus === 'Expired' || paymentStatus === 'New') &&\n            hasPremium,\n        })}\n        onClick={handleClick}\n      >\n        <div\n          className={clsx(styles.content, {\n            [styles['content']]: variant === 'default',\n            [styles[`content-${variant}`]]: variant !== 'default',\n          })}\n        >\n          <div\n            className={clsx({\n              [styles['icon']]: variant === 'default',\n              [styles[`icon-${variant}`]]: variant !== 'default',\n            })}\n          >\n            {Icon()}\n          </div>\n          {status === 'error' ? (\n            <div className={styles['error-info']}>\n              <span>{t(`status-${status}`)}</span>\n              <br></br>\n              <span className={styles['description']}>{t('try-in-5-min')}</span>\n            </div>\n          ) : (\n            <span>{t(`status-${status}`)}</span>\n          )}\n        </div>\n      </button>\n    </div>\n  );\n};\n\nConnectButton.displayName = 'ConnectButton';\n","import {\n  LocalStorageKey,\n  getLocalStorageData,\n  setLocalStorageData,\n  type ConnectionState,\n} from '@app/storage/local/shared';\nimport { useFeedbackOverlay } from '@popup/shared/contexts/FeedbackOverlayContext';\nimport { usePaymentStatus } from '@popup/shared/hooks/usePaymentStatus';\nimport { usePremiumData } from '@popup/shared/hooks/usePremiumData';\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { browser_api } from '@app/browser_api';\n\ntype ConnectToggleHookValues = {\n  status: ConnectionState;\n  handleClick: () => Promise<void>;\n};\n\nexport function useConnectButton({\n  onExpiredRoute,\n}: {\n  onExpiredRoute?: string;\n} = {}): ConnectToggleHookValues {\n  const [status, setStatus] = useState<ConnectionState>('disconnected');\n  const { checkAndShowFeedbackOverlay } = useFeedbackOverlay();\n  const paymentStatus = usePaymentStatus();\n  const { hasPremium } = usePremiumData();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    async function getStatus(): Promise<void> {\n      const { currentState } = await getLocalStorageData(\n        LocalStorageKey.CurrentState,\n      );\n      if (currentState) {\n        setStatus(currentState);\n      }\n    }\n\n    void getStatus();\n  }, []);\n\n  useEffect(() => {\n    function listener(changes: {\n      currentState?: { newValue: ConnectionState };\n    }): void {\n      if (changes.currentState) {\n        setStatus(changes.currentState.newValue);\n      }\n    }\n\n    browser_api.storage.onChanged.addListener(listener);\n    return () => {\n      browser_api.storage.onChanged.removeListener(listener);\n    };\n  }, []);\n\n  async function handleClick(): Promise<void> {\n    if (\n      (paymentStatus === 'Expired' || paymentStatus === 'New') &&\n      hasPremium &&\n      onExpiredRoute\n    ) {\n      navigate(onExpiredRoute);\n      return;\n    }\n    const { currentState, targetState } = await getLocalStorageData([\n      LocalStorageKey.TargetState,\n      LocalStorageKey.CurrentState,\n    ]);\n\n    if (!targetState || targetState === 'disconnected') {\n      await setLocalStorageData({ targetState: 'connected' });\n    } else {\n      if (currentState === 'connected') {\n        await checkAndShowFeedbackOverlay();\n      }\n      await setLocalStorageData({ targetState: 'disconnected' });\n    }\n  }\n\n  return {\n    status,\n    handleClick,\n  };\n}\n","import { useContext } from 'react';\nimport {\n  FeedbackOverlayContext,\n  type FeedbackOverlayContextType,\n} from '../FeedbackOverlayContext';\n\nexport function useFeedbackOverlay(): FeedbackOverlayContextType {\n  const context = useContext(FeedbackOverlayContext);\n  if (context === undefined) {\n    throw new Error(\n      'useFeedbackOverlay must be used within a FeedbackOverlayProvider',\n    );\n  }\n  return context;\n}\n","export const ErrorIcon = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width={24} height={24} fill=\"none\">\n      <path\n        fill=\"currentColor\"\n        fillRule=\"evenodd\"\n        d=\"M9.4 3.003c1.156-2 4.044-2 5.198 0l7.355 12.748c1.154 2-.29 4.5-2.6 4.5H4.646c-2.31 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 1 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z\"\n        clipRule=\"evenodd\"\n      />\n    </svg>\n  );\n};\n","export const PlayIcon = () => {\n  return (\n    <svg\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M4.5 5.59796C4.50019 5.19491 4.60864 4.79931 4.81401 4.4525C5.01939 4.1057 5.31415 3.82044 5.66749 3.62652C6.02083 3.43261 6.41977 3.33716 6.82261 3.35017C7.22545 3.36318 7.61741 3.48416 7.9575 3.70046L18.0165 10.101C18.3358 10.3042 18.5988 10.5847 18.7809 10.9165C18.9631 11.2483 19.0585 11.6207 19.0585 11.9992C19.0585 12.3777 18.9631 12.7501 18.7809 13.0819C18.5988 13.4138 18.3358 13.6942 18.0165 13.8975L7.9575 20.2995C7.6173 20.5158 7.22521 20.6368 6.82224 20.6498C6.41926 20.6627 6.02022 20.5671 5.66683 20.373C5.31345 20.1789 5.01871 19.8935 4.81344 19.5465C4.60817 19.1994 4.49992 18.8036 4.5 18.4005V5.59796Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"vwUWKPNPbbGr6p4tS0Ro\",\"active-button\":\"ScKTkPblErv14oBuUbV9\",\"disabled-button\":\"PchULsnTh9AZqOwjyD1u\"};","import React from 'react';\n\nexport const ModeSwitcherButtonBlockIcon: React.FC = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width={17} height={17} fill=\"none\">\n      <path\n        fill=\"#FFD600\"\n        fillRule=\"evenodd\"\n        d=\"M8.75 1.5A3.5 3.5 0 0 0 5.25 5v2.5A1.5 1.5 0 0 0 3.75 9v5a1.5 1.5 0 0 0 1.5 1.5h7a1.5 1.5 0 0 0 1.5-1.5V9a1.5 1.5 0 0 0-1.5-1.5V5a3.5 3.5 0 0 0-3.5-3.5Zm2 6V5a2 2 0 1 0-4 0v2.5h4Z\"\n        clipRule=\"evenodd\"\n      />\n    </svg>\n  );\n};\n","import React from 'react';\nimport clsx from 'clsx';\nimport { motion } from 'motion/react';\nimport styles from './ModeSwitcherButton.module.css';\nimport { ModeSwitcherButtonBlockIcon } from './ModeSwitcherButtonBlockIcon';\n\ninterface ModeSwitcherButtonProps {\n  label: string;\n  isActive: boolean;\n  onClick: () => void;\n  disabled?: boolean;\n}\n\nexport const ModeSwitcherButton: React.FC<ModeSwitcherButtonProps> = ({\n  label,\n  isActive,\n  disabled,\n  onClick,\n}) => {\n  return (\n    <motion.button\n      whileTap={disabled ? undefined : { scale: 0.98 }}\n      className={clsx(styles.button, {\n        [styles['active-button']]: isActive,\n        [styles['disabled-button']]: disabled,\n      })}\n      onClick={onClick}\n    >\n      {label}\n      {disabled && <ModeSwitcherButtonBlockIcon />}\n    </motion.button>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Xhb0Dqbgoa4JFDwi3ZVF\",\"switcher\":\"vGPrQL_WToNnL26RGf_6\",\"switcher-on\":\"XNkAt0H3pBQTg1Fyfi2k\"};","import { RoutePath } from '@popup/project/youboost-neo/routes/types/RoutePath';\nimport { usePaymentStatus } from '@popup/shared/hooks/usePaymentStatus';\nimport clsx from 'clsx';\nimport { motion } from 'motion/react';\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ModeSwitcherButton } from './ModeSwitcherButton';\n\nimport styles from './ModeSwitcher.module.css';\n\nexport type ModeSwitcherProps = {\n  hasPremium: boolean;\n  isYoutubeMode: boolean;\n  onModeChange: (isYoutubeMode: boolean) => void;\n};\n\nexport const ModeSwitcher: React.FC<ModeSwitcherProps> = ({\n  hasPremium,\n  isYoutubeMode,\n  onModeChange,\n}) => {\n  const paymentStatus = usePaymentStatus();\n  const navigate = useNavigate();\n  const handleClick = (isYoutubeMode: boolean) => {\n    if (paymentStatus === 'Expired') {\n      navigate(RoutePath.PremiumInfo);\n      return;\n    }\n    onModeChange(isYoutubeMode);\n  };\n  return (\n    <div\n      className={clsx(styles.container, {\n        [styles['premium']]: hasPremium,\n      })}\n    >\n      <ModeSwitcherButton\n        label=\"Только Youtube\"\n        isActive={isYoutubeMode}\n        onClick={() => handleClick(true)}\n      />\n      <ModeSwitcherButton\n        label=\"Весь интернет\"\n        isActive={!isYoutubeMode}\n        disabled={!hasPremium}\n        onClick={() => handleClick(false)}\n      />\n\n      <motion.div\n        className={clsx(styles.switcher, {\n          [styles['switcher-on']]: !isYoutubeMode,\n        })}\n        layout\n        transition={{\n          type: 'spring',\n          visualDuration: 0.2,\n          bounce: 0.2,\n        }}\n      />\n    </div>\n  );\n};\n","import { RoutePathType } from '@popup/shared/types/route';\n\nexport const RoutePath: RoutePathType<{\n  PremiumInfo: string;\n  EnterId: string;\n  CancelPremium: string;\n  Payment: string;\n  Tariffs: string;\n  AllInternetPromo: string;\n  FreeInfoPersuasion: string;\n  PremiumInfoPersuasion: string;\n  PremiumSalePersuasion: string;\n  UnavailableTrial: string;\n}> = {\n  Root: '/',\n  ChangeDevice: '/change-device',\n  PremiumInfo: '/premium-info',\n  EnterId: '/enter-id',\n  CancelPremium: '/cancel-premium',\n  Payment: '/payment',\n  Tariffs: '/tariffs',\n  AllInternetPromo: '/all-internet-promo',\n  FreeInfoPersuasion: '/free-info-persuasion',\n  PremiumInfoPersuasion: '/premium-info-persuasion',\n  PremiumSalePersuasion: '/premium-sale-persuasion',\n  UnavailableTrial: '/unavailable-trial',\n};\n","import { httpClient } from '@api/httpClient';\nimport {\n  LocalStorageKey,\n  getLocalStorageData,\n} from '@app/storage/local/shared';\nimport { getSessionMetaApiData } from '@app/storage/session/metaApiData';\nimport { getDeviceId } from '@background/client/utils';\n\nexport async function verifyEmail(email: string) {\n  const { apiBaseUrl } = await getSessionMetaApiData();\n\n  const deviceId = await getDeviceId();\n\n  const extensionVersion = process.env.MANIFEST_EXTENSION_VERSION || '';\n  const url = new URL(\n    `https://${apiBaseUrl}/api/v1/auth/request_email_verification`,\n  );\n  const body = JSON.stringify({ reason: 'extension_request', email });\n  const headers = new Headers({\n    'X-Device-Id': deviceId || '',\n    'User-Agent': `naruzhu-extension/${extensionVersion}`,\n    'content-type': 'application/json',\n  });\n\n  const data = await httpClient\n    .post(url.toString(), {\n      headers,\n      body,\n    })\n    .json();\n  return data;\n}\n","import { verifyEmail } from '@api/naruzhuv2/verifyEmail';\nimport {\n  LocalStoragePremiumKey,\n  setLocalStoragePremiumData,\n} from '@app/storage/local/premium';\nimport {\n  SessionStorageKey,\n  getSessionStorageData,\n  setSessionStorageData,\n} from '@app/storage/session/shared';\nimport { HTTPError } from 'ky';\nimport { useEffect, useState } from 'react';\n\ntype useEmailReturnValues = {\n  email: string;\n  setEmail: (email: string) => void;\n  error: string;\n  submit: (e: React.FormEvent) => Promise<void>;\n  setError: (error: string) => void;\n  isEmailSent: boolean;\n  isLoading: boolean;\n};\n\nexport function useEmail(): useEmailReturnValues {\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const [isEmailSent, setIsEmailSent] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    async function getEmail() {\n      let { email } = await getSessionStorageData(SessionStorageKey.email);\n      if (email) {\n        setEmail(email);\n      }\n    }\n\n    getEmail();\n  }, []);\n\n  const validateEmail = (email: string) => {\n    const emailTrimmed = email.trim();\n\n    if (!emailTrimmed) return 'Введите email';\n    if (!emailTrimmed.includes('@')) return \"Email должен содержать символ '@'\";\n    if (emailTrimmed.startsWith('@') || email.endsWith('@'))\n      return \"Некорректное положение '@'\";\n    if (!/^[^@\\s]+@[^@\\s]+\\.[a-zA-Z]{2,}$/.test(emailTrimmed))\n      return 'Некорректный email';\n    return '';\n  };\n\n  const submit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const validationError = validateEmail(email);\n    if (validationError) {\n      setError(validationError);\n      return;\n    }\n    setError('');\n    setSessionStorageData({ email });\n    try {\n      setIsLoading(true);\n      await verifyEmail(email);\n      await setLocalStoragePremiumData({\n        [LocalStoragePremiumKey.UserId]: email,\n      });\n      setIsEmailSent(true);\n      setIsLoading(false);\n    } catch (error) {\n      setIsLoading(false);\n      if (error instanceof HTTPError) {\n        if (error.response.status >= 400 && error.response.status < 500) {\n          setError('Некорректный email');\n          return;\n        }\n      }\n      setError('Неизвестная ошибка');\n    }\n  };\n\n  return { email, setEmail, error, submit, setError, isEmailSent, isLoading };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"iAjsKUbM4TcFcMBlnDeR\",\"inputs\":\"obtPlmfhtj8u4Pt6bKtk\",\"input\":\"D5slmhXwsuQq8hnwgyxB\",\"input-error\":\"cvrtsL1_QFsETyoxy7lS\",\"shake\":\"ykEgiQY3BtA2Zy04eyIj\",\"buttons\":\"fFr2ideRcpVcbY_msJ1r\",\"button\":\"rmsiJ602H3oJrGJNalNs\",\"loader\":\"DYHAOOUcgLzT6JoTNEfW\",\"error\":\"DhEe3h64Avn2sL4m91gE\",\"text\":\"lSeyKVseNJi3uz5uOc9A\",\"timer\":\"AiAXNXp0hmJDGUs8CeYR\"};","import { verifyCode } from '@api/naruzhuv2/verifyCode';\nimport { verifyEmail } from '@api/naruzhuv2/verifyEmail';\nimport { Button } from '@popup/shared/components/Button';\nimport clsx from 'clsx';\nimport { HTTPError } from 'ky';\nimport { useEffect, useRef, useState } from 'react';\n\nimport styles from './AuthCodeForm.module.css';\n\nexport function AuthCodeForm({\n  email,\n  onStepChange,\n  timeLeft,\n  isTimerRunning,\n  startTimer,\n}: {\n  email: string;\n  onStepChange: (step: number) => void;\n  timeLeft: number;\n  isTimerRunning: boolean;\n  startTimer: () => void;\n}) {\n  const initialValues = ['', '', '', ''];\n  const [values, setValues] = useState(initialValues);\n  const inputsRef = useRef<(HTMLInputElement | null)[]>([]);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    inputsRef.current[0]?.focus();\n  }, []);\n\n  const handleChange = (\n    index: number,\n    e: React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    const value = e.target.value.replace(/\\D/, '');\n\n    const newValues = [...values];\n    newValues[index] = value;\n    setValues(newValues);\n\n    if (index < 3 && value) {\n      inputsRef.current[index + 1]?.focus();\n    }\n  };\n\n  const handleKeyDown = (index: number, e: React.KeyboardEvent) => {\n    if (e.key === 'Backspace' && !values[index] && index > 0) {\n      inputsRef.current[index - 1]?.focus();\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      setIsLoading(true);\n      const code = values.join('');\n      await verifyCode(email, code);\n      setIsLoading(false);\n      onStepChange(2);\n    } catch (error) {\n      console.error('error', error);\n      setIsLoading(false);\n      if (error instanceof HTTPError) {\n        if (error.response.status >= 400 && error.response.status < 500) {\n          setError('Некорректный код');\n          return;\n        }\n      }\n      setError('Неизвестная ошибка');\n    }\n  };\n\n  const handleResendCode = async () => {\n    startTimer();\n    try {\n      await verifyEmail(email);\n    } catch (error) {\n      setError('Не удалось отправить код');\n    }\n  };\n\n  const handleFocus = (index: number) => {\n    inputsRef.current[index]?.focus();\n    setError('');\n  };\n\n  const handlePaste = (e: React.ClipboardEvent<HTMLInputElement>) => {\n    const paste = e.clipboardData\n      .getData('Text')\n      .replace(/\\D/g, '')\n      .slice(0, 4);\n    if (paste.length > 0) {\n      const newValues = initialValues.map((_, i) => paste[i] || '');\n      setValues(newValues);\n      inputsRef.current[Math.min(paste.length, 3)]?.focus();\n      e.preventDefault();\n    }\n  };\n\n  const isValid = values.every((val) => val.length === 1);\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      {error && <span className={styles.error}>{error}</span>}\n      <div className={styles.inputs}>\n        {values.map((val, index) => (\n          <input\n            key={index}\n            ref={(el) => (inputsRef.current[index] = el)}\n            type=\"text\"\n            value={val}\n            onChange={(e) => handleChange(index, e)}\n            onKeyDown={(e) => handleKeyDown(index, e)}\n            onFocus={() => handleFocus(index)}\n            maxLength={1}\n            className={clsx(styles.input, {\n              [styles['input-error']]: !!error,\n            })}\n            onPaste={handlePaste}\n          />\n        ))}\n      </div>\n      <div className={styles.buttons}>\n        <Button\n          disabled={!isValid || isLoading}\n          className={styles.button}\n          variant=\"primary\"\n          size=\"small\"\n          type=\"submit\"\n          loading={isLoading}\n          loaderVariant=\"circle\"\n          loaderClassName={styles.loader}\n        >\n          {isLoading ? 'Проверяем...' : 'Продолжить'}\n        </Button>\n        <Button\n          className={styles.button}\n          variant=\"secondary\"\n          onClick={handleResendCode}\n          size=\"small\"\n          disabled={isTimerRunning}\n        >\n          <span className={styles.text}>\n            Отправить код повторно\n            {isTimerRunning ? (\n              <span className={styles.timer}>{timeLeft}</span>\n            ) : null}\n          </span>\n        </Button>\n      </div>\n    </form>\n  );\n}\n","import { httpClient } from '@api/httpClient';\nimport {\n  LocalStorageKey,\n  getLocalStorageData,\n} from '@app/storage/local/shared';\nimport { getSessionMetaApiData } from '@app/storage/session/metaApiData';\nimport { getDeviceId } from '@background/client/utils';\n\nexport async function verifyCode(email: string, code: string) {\n  const { apiBaseUrl } = await getSessionMetaApiData();\n  const deviceId = await getDeviceId();\n\n  const extensionVersion = process.env.MANIFEST_EXTENSION_VERSION || '';\n  const url = new URL(`https://${apiBaseUrl}/api/v1/extension_request`);\n  const body = JSON.stringify({ otp_code: code, email });\n  const headers = new Headers({\n    'X-Device-Id': deviceId || '',\n    'User-Agent': `naruzhu-extension/${extensionVersion}`,\n    'content-type': 'application/json',\n  });\n\n  const data = await httpClient\n    .post(url.toString(), {\n      headers,\n      body,\n    })\n    .json();\n  return data;\n}\n","import { setLocalStorageData } from '@app/storage/local/shared';\nimport { Button } from '@popup/shared/components/Button';\nimport { forwardRef, useEffect } from 'react';\nimport { useEmail } from '../../../hooks/useEmail';\nimport { StepProps } from '../../types';\nimport { AuthCodeForm } from '../AuthCodeForm';\n\nimport styles from './CodeVerification.module.css';\n\nexport const CodeVerification = forwardRef<\n  HTMLDivElement,\n  StepProps & {\n    timeLeft: number;\n    isTimerRunning: boolean;\n    startTimer: () => void;\n  }\n>(({ onStepChange, timeLeft, isTimerRunning, startTimer }, ref) => {\n  const { email } = useEmail();\n\n  useEffect(() => {\n    (async () =>\n      await setLocalStorageData({ onboardingScreenStatus: 'step-one' }))();\n  }, []);\n\n  return (\n    <div className={styles['step-one']} ref={ref}>\n      <div className={styles.content}>\n        <h3 className={styles.title}>Введите код из письма</h3>\n        <p className={styles.description}>Отправили на {email}</p>\n        <Button\n          className={styles.link}\n          variant=\"link\"\n          onClick={() => onStepChange(0)}\n        >\n          Неверно указана почта?\n        </Button>\n        <AuthCodeForm\n          email={email}\n          onStepChange={onStepChange}\n          timeLeft={timeLeft}\n          isTimerRunning={isTimerRunning}\n          startTimer={startTimer}\n        />\n      </div>\n    </div>\n  );\n});\n\nCodeVerification.displayName = 'CodeVerificationStep';\n","// extracted by mini-css-extract-plugin\nexport default {\"step-one\":\"MTjZg_BKZ3STPLAw8KF_\",\"content\":\"zWaGmrd99SltHqASyLBH\",\"title\":\"cR61owI6u_djkYbLK77M\",\"description\":\"dB94k7vDtB1ZdErT4VUK\",\"link\":\"xtU2NrnUWabnELbXNgvi\"};","// extracted by mini-css-extract-plugin\nexport default {\"step-zero\":\"xKN0z06flCyl8STvBHGA\",\"sign\":\"tx4DMh6UBpYgxt0altJD\",\"title\":\"FBTWibS7FgOgcKaGmUPI\",\"content\":\"I1OqjxlwTONt5tLyFKdh\",\"subtitle\":\"LTdA03cSPzqKPbhgH_Kf\",\"description\":\"M6GqbyBG2KgOwElwEJ_T\",\"input\":\"mVzvrRn3CjJQfy_hV5f_\",\"input-error\":\"VSbfKZsThCfBKNsdks0y\",\"shake\":\"aR7_abXe4FNWEpKPveUq\",\"button\":\"aAlvaO7T4prEOWe3UhGF\",\"loader\":\"JpHYgV3jL_9cvFcz7A3K\",\"error\":\"bqZx1nPU148jK2yQIQnA\"};","import { Button } from '@popup/shared/components/Button';\nimport clsx from 'clsx';\nimport { forwardRef, useEffect } from 'react';\nimport { useEmail } from '../../../hooks/useEmail';\nimport { StepProps } from '../../types';\n\nimport styles from './EmailVerification.module.css';\n\nexport const EmailVerification = forwardRef<\n  HTMLDivElement,\n  StepProps & { startTimer: () => void }\n>(({ onStepChange, startTimer }, ref) => {\n  const {\n    email,\n    setEmail,\n    error,\n    setError,\n    submit: handleSubmit,\n    isEmailSent,\n    isLoading,\n  } = useEmail();\n\n  useEffect(() => {\n    if (isEmailSent) {\n      startTimer();\n      onStepChange(1);\n    }\n  }, [isEmailSent, onStepChange, startTimer]);\n\n  return (\n    <div className={styles['step-zero']} ref={ref}>\n      <div className={styles.sign}>👋</div>\n      <h1 className={styles.title}>Добро пожаловать в VPN Наружу</h1>\n      <div className={styles.content}>\n        <h3 className={styles.subtitle}>Введите E-mail</h3>\n        <p className={styles.description}>На него мы отправим код доступа</p>\n        <form onSubmit={handleSubmit}>\n          {error && <span className={styles.error}>{error}</span>}\n          <input\n            type=\"email\"\n            placeholder=\"E-mail\"\n            name=\"email\"\n            autoComplete=\"email\"\n            inputMode=\"email\"\n            className={clsx(styles.input, {\n              [styles['input-error']]: !!error,\n            })}\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            onFocus={() => setError('')}\n          />\n          <Button\n            className={styles.button}\n            disabled={!email || !!error || isLoading}\n            type=\"submit\"\n            size=\"small\"\n            loaderVariant=\"circle\"\n            loading={isLoading}\n            loaderClassName={styles.loader}\n          >\n            {isLoading ? 'Отправляем код...' : 'Продолжить'}\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n});\n\nEmailVerification.displayName = 'EmailVerificationStep';\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"o_G5VKZYCUexWY7IbyTg\",\"page-enter-left\":\"V5VmxSsEho_An367EtrR\",\"page-enter-active-left\":\"HGNx_8Fxk018ZPRfzyrz\",\"page-exit-left\":\"LNlIqIY6mMJZV6oxurUL\",\"page-exit-active-left\":\"FUHJ1mpI0kInBCja08Bg\",\"page-enter-right\":\"EiFz_ZO5ftI9xIzh7iH5\",\"page-enter-active-right\":\"mBnj7Cc3OULpuypFRoqn\",\"page-exit-right\":\"lwnEnECdUJE5TTunxb4A\",\"page-exit-active-right\":\"GZ3PiJQbOuxEJaOjhgLQ\"};","import { setLocalStorageData } from '@app/storage/local/shared';\nimport { memo, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { CSSTransition, SwitchTransition } from 'react-transition-group';\nimport { useTimer } from '../hooks/useTimer';\nimport { CodeVerification } from './components/CodeVerification/CodeVerification';\nimport { EmailVerification } from './components/EmailVerification/EmailVerification';\nimport { OnboardingStep, stepMap, stepMapReverse } from './constants';\nimport { LimitedOnboardingStatus } from './types';\n\nimport styles from './Onboarding.module.css';\n\nfunction RawOnboarding({\n  onboardingStatus,\n}: {\n  onboardingStatus: LimitedOnboardingStatus;\n}): JSX.Element {\n  const { start, isTimerRunning, timeLeft } = useTimer();\n  const [step, setStep] = useState(onboardingStatus);\n  const [isReversed, setIsReversed] = useState(false);\n  const [hasInteracted, setHasInteracted] = useState(false);\n\n  const zeroRef = useRef<HTMLDivElement>(null);\n  const oneRef = useRef<HTMLDivElement>(null);\n\n  const stepRefs = useMemo(\n    () => ({\n      [OnboardingStep.StepZero]: zeroRef,\n      [OnboardingStep.StepOne]: oneRef,\n      [OnboardingStep.Done]: null,\n    }),\n    [],\n  );\n\n  useEffect(() => {\n    if (onboardingStatus !== OnboardingStep.Done) {\n      setStep(onboardingStatus);\n    }\n  }, [onboardingStatus]);\n\n  const handleStepChange = useCallback(\n    (newStep: number) => {\n      if (!hasInteracted) setHasInteracted(true);\n      const nextStepNumber = newStep;\n      const prevStepNumber = stepMapReverse[step];\n\n      setLocalStorageData({\n        onboardingScreenStatus: stepMap[newStep],\n      });\n\n      setIsReversed(nextStepNumber < prevStepNumber);\n      setStep(stepMap[newStep]);\n    },\n    [hasInteracted, step],\n  );\n\n  const animationClasses = useMemo(() => {\n    if (hasInteracted) {\n      return isReversed\n        ? {\n            enter: styles['page-enter-right'],\n            enterActive: styles['page-enter-active-right'],\n            exit: styles['page-exit-right'],\n            exitActive: styles['page-exit-active-right'],\n          }\n        : {\n            enter: styles['page-enter-left'],\n            enterActive: styles['page-enter-active-left'],\n            exit: styles['page-exit-left'],\n            exitActive: styles['page-exit-active-left'],\n          };\n    }\n    return {};\n  }, [hasInteracted, isReversed]);\n\n  return (\n    <div className={styles.container}>\n      <SwitchTransition>\n        <CSSTransition\n          nodeRef={stepRefs[step]}\n          key={step}\n          timeout={300}\n          classNames={animationClasses}\n          unmountOnExit\n        >\n          <>\n            {step === OnboardingStep.StepZero && (\n              <EmailVerification\n                ref={zeroRef}\n                onStepChange={handleStepChange}\n                startTimer={start}\n              />\n            )}\n            {step === OnboardingStep.StepOne && (\n              <CodeVerification\n                onStepChange={handleStepChange}\n                ref={oneRef}\n                isTimerRunning={isTimerRunning}\n                timeLeft={timeLeft}\n                startTimer={start}\n              />\n            )}\n          </>\n        </CSSTransition>\n      </SwitchTransition>\n    </div>\n  );\n}\n\nexport const Onboarding = memo(RawOnboarding);\n","import { useState, useEffect, useCallback } from 'react';\n\nexport function useTimer(duration = 60) {\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\n\n  useEffect(() => {\n    if (!isTimerRunning) return;\n\n    if (timeLeft === 0) {\n      setIsTimerRunning(false);\n      return;\n    }\n\n    const interval = setInterval(() => {\n      setTimeLeft((prev) => {\n        if (prev <= 1) {\n          clearInterval(interval);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [isTimerRunning, timeLeft]);\n\n  const start = useCallback(() => {\n    if (isTimerRunning) return;\n    setIsTimerRunning(true);\n    setTimeLeft(duration);\n  }, [isTimerRunning, duration]);\n\n  return { timeLeft, isTimerRunning, start };\n}\n","export const MiniLogo = ({ className }: { className?: string }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={60}\n      height={60}\n      fill=\"none\"\n      className={className}\n    >\n      <rect width={60} height={60} fill=\"#FFD600\" rx={12} />\n      <path\n        fill=\"#000\"\n        d=\"M29.249 55.204A6.086 6.086 0 0 0 28.725 60H7.736l.523-2.241a26.835 26.835 0 0 1 2.619-7.15l8.394-15.626c.601-1.12-.202-2.474-1.484-2.495l-9.287-.16a6.07 6.07 0 0 0-5.278 2.876L0 40.447V25.95a14.84 14.84 0 0 1 9.522-3.03l11.98.415c9.299.325 18.134 4.088 24.759 10.552l6.904 6.734a6.621 6.621 0 0 0 4.621 1.876H60v8.242h-4.633c-2.709 0-5.315-1.02-7.293-2.852l-8.024-7.438a1.728 1.728 0 0 0-2.67.41l-8.131 14.345ZM49.288 13.945c0 5.89-4.825 10.665-10.777 10.665-5.952 0-10.777-4.775-10.777-10.665 0-5.89 4.825-10.664 10.777-10.664 5.952 0 10.777 4.775 10.777 10.664Z\"\n      />\n    </svg>\n  );\n};\n","import { Button } from '@popup/shared/components/Button';\nimport { clsx } from 'clsx';\nimport styles from './PremiumPromo.module.css';\nimport { MiniLogo } from './MiniLogo';\nimport { PROMO_TARGET_LINK } from '../constants';\n\nexport type PremiumPromoProps = {\n  children?: React.ReactNode;\n  className?: string;\n};\n\nexport function PremiumPromo({ className }: PremiumPromoProps): JSX.Element {\n  const days = process.env.FREE_TRIAL_DAYS_NUMBER;\n\n  const onPromoClick = () => {\n    window.open(PROMO_TARGET_LINK, '_blank');\n  };\n\n  return (\n    <>\n      <button\n        className={clsx(styles.wrapper, className)}\n        onClick={onPromoClick}\n      >\n        <div className={styles.content}>\n          <MiniLogo className={styles.logo} />\n          <h3 className={styles.title}>VPN Наружу для Android / TV</h3>\n        </div>\n        {\n          <Button\n            variant=\"primary\"\n            className={styles.button}\n            size=\"default\"\n            sharp\n          >\n            Попробовать бесплатно {days} дней\n          </Button>\n        }\n      </button>\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"l7Zl_uzCrfVqT5YrbhMG\",\"content\":\"KnXOCUwI1Q6qjcOcgEP1\",\"logo\":\"ViAtMYHXSF1G9zOkG7CI\",\"title\":\"eB8hUzi3Tav1atieVSUA\",\"button\":\"oak0gviTHXc2c5w3SnqQ\"};","export const PROMO_TARGET_LINK =\n  'https://play.google.com/store/apps/details?id=online.vpnnaruzhu.client.android';\n","import { ReactNode } from 'react';\n\nimport styles from './LayoutWrapper.module.css';\n\nexport function LayoutWrapper({\n  children,\n}: {\n  children: ReactNode;\n}): JSX.Element {\n  return <div className={styles.wrapper}>{children ? children : null}</div>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"NJ3nhRlufAtOrES4pTKk\"};","import { TransitionWrapper } from '@popup/shared/components/TransitionWrapper';\nimport { Error } from '@popup/shared/components/errors/Error';\nimport { createMemoryRouter } from 'react-router-dom';\nimport { Header } from '../components/shared/Header';\nimport { ModeSwitcherContextProvider } from '../contexts/ModeSwitcher/ModeSwitcherContext';\nimport { ChangeDevice } from './ChangeDevice';\nimport { FreeTrialScreen } from './FreeTrialScreen';\nimport { Root } from './Root';\nimport { RoutePath } from './types/RoutePath';\nimport { LayoutWrapper } from '../components/LayoutWrapper/ui/LayoutWrapper';\n\nexport const router = createMemoryRouter([\n  {\n    path: RoutePath.Root,\n    element: (\n      <TransitionWrapper header={<Header />}>\n        <LayoutWrapper>\n          <ModeSwitcherContextProvider>\n            <Root />\n          </ModeSwitcherContextProvider>\n        </LayoutWrapper>\n      </TransitionWrapper>\n    ),\n    errorElement: <Error />,\n  },\n  {\n    path: RoutePath.ChangeDevice,\n    element: (\n      <TransitionWrapper header={<Header />}>\n        <LayoutWrapper>\n          <ChangeDevice />\n        </LayoutWrapper>\n      </TransitionWrapper>\n    ),\n    errorElement: <Error />,\n  },\n  {\n    path: RoutePath.FreeTrial,\n    element: (\n      <TransitionWrapper header={<Header />}>\n        <LayoutWrapper>\n          <FreeTrialScreen />\n        </LayoutWrapper>\n      </TransitionWrapper>\n    ),\n    errorElement: <Error />,\n  },\n]);\n","import { OnboardingStep } from '@popup/project/naruzhuv2/components/Onboarding/ui/constants';\nimport { LimitedOnboardingStatus } from '@popup/project/naruzhuv2/components/Onboarding/ui/types';\nimport { ConnectButton } from '@popup/shared/components/ConnectButton';\nimport { useTheme } from '@popup/shared/contexts/Theme';\nimport { usePremiumAnimation } from '@popup/shared/hooks/usePremiumAnimation';\nimport { usePremiumData } from '@popup/shared/hooks/usePremiumData';\nimport { ModeSwitcher } from '../../../components/ModeSwitcher';\nimport { Onboarding } from '../../../components/Onboarding';\nimport { PremiumPromo } from '../../../components/PremiumPromo';\nimport { useChangeDevice } from '../../../hooks/useChangeDevice';\nimport { useModeSwitcher } from '../../../hooks/useModeSwitcher';\nimport { useOnboardingScreen } from '../../../hooks/useOnboardingScreen';\nimport { RoutePath } from '../../types/RoutePath';\n\nimport styles from './Root.module.css';\n\nexport function Root(): JSX.Element | null {\n  const { hasPremium } = usePremiumData();\n  const { onboardingStatus } = useOnboardingScreen();\n\n  useTheme();\n  useChangeDevice();\n  usePremiumAnimation({ isFreeUser: !hasPremium });\n\n  const { isYoutubeMode, onModeChange } = useModeSwitcher();\n\n  if (onboardingStatus !== OnboardingStep.Done) {\n    return (\n      <Onboarding\n        onboardingStatus={onboardingStatus as LimitedOnboardingStatus}\n      />\n    );\n  }\n\n  return (\n    <>\n      <ModeSwitcher\n        hasPremium={!!hasPremium}\n        isYoutubeMode={isYoutubeMode}\n        onModeChange={onModeChange}\n      />\n\n      <ConnectButton\n        className={styles['connect-button-container']}\n        onExpiredRoute={RoutePath.FreeTrial}\n      />\n\n      <PremiumPromo />\n    </>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport {\n  getLocalStorageData,\n  LocalStorageKey,\n  OnboardingScreenStatus,\n} from '@app/storage/local/shared';\nimport { browser_api } from '@app/browser_api';\n\ntype PremiumDataHookValues = {\n  onboardingStatus: OnboardingScreenStatus;\n  isLoading: boolean;\n};\n\nexport function useOnboardingScreen(): PremiumDataHookValues {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [onboardingStatus, setOnboardingStatus] =\n    useState<OnboardingScreenStatus>('step-zero');\n\n  useEffect(() => {\n    async function getOnboardingData(): Promise<void> {\n      setIsLoading(true);\n      const { onboardingScreenStatus } = await getLocalStorageData(\n        LocalStorageKey.OnboardingScreenStatus,\n      );\n      setOnboardingStatus(onboardingScreenStatus || 'step-zero');\n      setIsLoading(false);\n    }\n\n    void getOnboardingData();\n  }, []);\n\n  useEffect(() => {\n    function listener(changes: {\n      onboardingScreenStatus?: { newValue?: OnboardingScreenStatus };\n    }): void {\n      if (changes.onboardingScreenStatus) {\n        const newOnboardingStatus =\n          changes.onboardingScreenStatus.newValue || 'step-zero';\n        setOnboardingStatus(newOnboardingStatus);\n      }\n    }\n\n    browser_api.storage.onChanged.addListener(listener);\n    return () => {\n      browser_api.storage.onChanged.removeListener(listener);\n    };\n  }, []);\n\n  return {\n    isLoading,\n    onboardingStatus,\n  };\n}\n","import { useContext } from 'react';\nimport { ThemeContext, type ThemeContextType } from '../ThemeContext';\n\nexport function useTheme(): ThemeContextType {\n  const theme = useContext(ThemeContext);\n  if (theme === undefined) {\n    throw new Error(\n      'useThemeContext must be used within a ThemeContextProvider',\n    );\n  }\n  return theme;\n}\n","import { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  LocalStoragePremiumKey,\n  getLocalStoragePremiumData,\n} from '@app/storage/local/premium';\nimport { RoutePath } from '../routes/types/RoutePath';\nimport { browser_api } from '@app/browser_api';\n\nexport function useChangeDevice(): void {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    async function handleDeviceChangeError(): Promise<void> {\n      const { isChangeDeviceError, hasPremium, userId } =\n        await getLocalStoragePremiumData([\n          LocalStoragePremiumKey.IsChangeDeviceError,\n          LocalStoragePremiumKey.HasPremium,\n          LocalStoragePremiumKey.UserId,\n        ]);\n      if (isChangeDeviceError && hasPremium) {\n        navigate(RoutePath.ChangeDevice, {\n          state: { userId },\n        });\n      }\n    }\n\n    void handleDeviceChangeError();\n  }, [navigate]);\n\n  useEffect(() => {\n    async function listener(changes: {\n      isChangeDeviceError?: { newValue?: boolean };\n    }): Promise<void> {\n      if (changes.isChangeDeviceError?.newValue) {\n        const { userId } = await getLocalStoragePremiumData([\n          LocalStoragePremiumKey.UserId,\n        ]);\n\n        navigate(RoutePath.ChangeDevice, {\n          state: { userId },\n        });\n      }\n    }\n\n    browser_api.storage.onChanged.addListener(listener);\n    return () => {\n      browser_api.storage.onChanged.removeListener(listener);\n    };\n  }, [navigate]);\n}\n","import { useLayoutEffect } from 'react';\n\nexport function usePremiumAnimation(\n  { isFreeUser } = { isFreeUser: true },\n): void {\n  useLayoutEffect(() => {\n    if (isFreeUser) {\n      document.body.classList.add('background-transition');\n    }\n    return () => {\n      if (isFreeUser) {\n        document.body.classList.remove('background-transition');\n      }\n    };\n  }, [isFreeUser]);\n}\n","import { useContext } from 'react';\nimport { ModeSwitcherContext } from '../contexts/ModeSwitcher/ModeSwitcherContext';\n\nexport function useModeSwitcher() {\n  return useContext(ModeSwitcherContext);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"connect-button-container\":\"MKqT4oMjFyzfxkXXr64T\"};","import { ChangeDeviceContent } from '../components/ChangeDeviceContent';\n\nexport function ChangeDevice(): JSX.Element {\n  return <ChangeDeviceContent />;\n}\n","import { FreeTrialContent } from '../components/FreeTrialContent';\n\nexport function FreeTrialScreen(): JSX.Element {\n  return <FreeTrialContent />;\n}\n","import { getSessionMetaApiData } from '@app/storage/session/metaApiData';\nimport { FeatureToggler } from '@popup/shared/components/FeatureToggler';\nimport { FeedbackOverlayContextProvider } from '@popup/shared/contexts/FeedbackOverlayContext';\nimport { ProxyControlledByOtherExtensions } from '@popup/shared/components/ProxyControlledByOtherExtensions/ProxyControlledByOtherExtensions';\nimport { BrowserError } from '@popup/shared/components/errors/BrowserError';\nimport { ErrorBoundary } from '@popup/shared/components/errors/ErrorBoundary';\nimport { OldVersionError } from '@popup/shared/components/errors/oldVersionError';\nimport { ThemeContextProvider } from '@popup/shared/contexts/Theme';\nimport { useApp } from '@popup/shared/hooks/useApp';\nimport { useVersion } from '@popup/shared/hooks/useVersion';\nimport React from 'react';\nimport { RouterProvider } from 'react-router-dom';\nimport { Header } from './components/shared/Header';\nimport { router } from './routes/router';\nimport './styles/popup.css';\nimport './styles/variables.css';\n\nexport function App(): JSX.Element {\n  const {\n    handleBrowserErrorClick,\n    handleProxyControlledByOtherExtensionsClick,\n    isBrowserError,\n    showIsProxyControlledByOtherExtensions,\n    showIsAdBlockersWork,\n    handleAdBlockersWorkClick,\n  } = useApp();\n  void getSessionMetaApiData();\n\n  const { isVersionOld } = useVersion();\n\n  if (isVersionOld) {\n    return <OldVersionError header={<Header />} />;\n  }\n\n  if (isBrowserError) {\n    return (\n      <BrowserError onClick={handleBrowserErrorClick} header={<Header />} />\n    );\n  }\n\n  if (showIsProxyControlledByOtherExtensions) {\n    return (\n      <ProxyControlledByOtherExtensions\n        onClick={handleProxyControlledByOtherExtensionsClick}\n        conflictType=\"proxy\"\n      >\n        <Header />\n      </ProxyControlledByOtherExtensions>\n    );\n  }\n\n  if (showIsAdBlockersWork) {\n    return (\n      <ProxyControlledByOtherExtensions\n        onClick={handleAdBlockersWorkClick}\n        conflictType=\"adBlocker\"\n      >\n        <Header />\n      </ProxyControlledByOtherExtensions>\n    );\n  }\n\n  if (showIsAdBlockersWork) {\n    return (\n      <ProxyControlledByOtherExtensions\n        onClick={handleAdBlockersWorkClick}\n        conflictType=\"adBlocker\"\n      >\n        <Header />\n      </ProxyControlledByOtherExtensions>\n    );\n  }\n\n  return (\n    <React.StrictMode>\n      <ErrorBoundary>\n        <FeedbackOverlayContextProvider>\n          <ThemeContextProvider>\n            <RouterProvider router={router} />\n            <FeatureToggler />\n          </ThemeContextProvider>\n        </FeedbackOverlayContextProvider>\n      </ErrorBoundary>\n    </React.StrictMode>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport {\n  LocalStorageKey,\n  getLocalStorageData,\n  setLocalStorageData,\n} from '../../../app/storage/local/shared';\nimport {\n  SessionStorageKey,\n  getSessionStorageData,\n  setSessionStorageData,\n} from '../../../app/storage/session/shared';\nimport { Alarms } from '@app/alarms/shared';\nimport { browser_api } from '@app/browser_api';\n\ntype AppHookValues = {\n  showIsProxyControlledByOtherExtensions: boolean;\n  showIsAdBlockersWork: boolean;\n  isBrowserError: boolean;\n  handleProxyControlledByOtherExtensionsClick: () => Promise<void>;\n  handleAdBlockersWorkClick: () => Promise<void>;\n  handleBrowserErrorClick: () => Promise<void>;\n};\n\nexport function useApp(): AppHookValues {\n  const [\n    showIsProxyControlledByOtherExtensions,\n    setShowIsProxyControlledByOtherExtensions,\n  ] = useState(false);\n  const [showIsAdBlockersWork, setShowIsAdBlockersWorks] = useState(false);\n  const [browserError, setBrowserError] = useState(false);\n\n  useEffect(() => {\n    async function checkIsProxyControlledByOtherExtensions(): Promise<void> {\n      const { isProxyControlledByOtherExtensions } =\n        await getSessionStorageData(\n          SessionStorageKey.IsProxyControlledByOtherExtensions,\n        );\n\n      const warningAlarm = await browser_api.alarms.get(\n        Alarms.ExtensionConflictWarningProxy,\n      );\n\n      setShowIsProxyControlledByOtherExtensions(\n        Boolean(isProxyControlledByOtherExtensions) && !warningAlarm,\n      );\n    }\n\n    void checkIsProxyControlledByOtherExtensions();\n  }, []);\n\n  useEffect(() => {\n    async function checkIsAdBlockersWork(): Promise<void> {\n      const { isAdBlockersWork } = await getSessionStorageData(\n        SessionStorageKey.IsAdBlockersWork,\n      );\n\n      const warningAlarm = await browser_api.alarms.get(\n        Alarms.ExtensionConflictWarningAdBlocker,\n      );\n\n      setShowIsAdBlockersWorks(Boolean(isAdBlockersWork) && !warningAlarm);\n    }\n\n    void checkIsAdBlockersWork();\n  }, []);\n\n  useEffect(() => {\n    async function checkIsBrowserError(): Promise<void> {\n      const { isBrowserError } = await getLocalStorageData(\n        LocalStorageKey.IsBrowserError,\n      );\n      setBrowserError(Boolean(isBrowserError));\n    }\n\n    void checkIsBrowserError();\n  }, []);\n\n  async function handleProxyControlledByOtherExtensionsClick(): Promise<void> {\n    await setSessionStorageData({ popupWasOpened: true });\n    setShowIsProxyControlledByOtherExtensions(false);\n\n    // Set up alarm to show the proxy warning again after 24 hours\n    await browser_api.alarms.create(Alarms.ExtensionConflictWarningProxy, {\n      periodInMinutes: 24 * 60, // 24 hours\n    });\n  }\n\n  async function handleAdBlockersWorkClick(): Promise<void> {\n    await setSessionStorageData({ popupWasOpened: true });\n    setShowIsAdBlockersWorks(false);\n\n    // Set up alarm to show the ad blocker warning again after 24 hours\n    await browser_api.alarms.create(Alarms.ExtensionConflictWarningAdBlocker, {\n      periodInMinutes: 24 * 60, // 24 hours\n    });\n  }\n\n  async function handleBrowserErrorClick(): Promise<void> {\n    await setLocalStorageData({ isBrowserError: false });\n    setBrowserError(false);\n  }\n\n  return {\n    showIsProxyControlledByOtherExtensions,\n    showIsAdBlockersWork,\n    isBrowserError: browserError,\n    handleProxyControlledByOtherExtensionsClick,\n    handleAdBlockersWorkClick,\n    handleBrowserErrorClick,\n  };\n}\n","import { getSessionMetaApiData } from '@app/storage/session/metaApiData';\nimport { useEffect, useMemo, useState } from 'react';\nimport { versionStringToNumber } from '../helpers/versionStringToNumber';\nimport { browser_api } from '@app/browser_api';\n\ntype VersionData = {\n  requiredVersion: number;\n  currentVersion: number;\n} | null;\n\nexport function useVersion(): { isVersionOld: boolean } {\n  const [versionData, setVersionData] = useState<VersionData>(null);\n\n  const isVersionOld = useMemo(\n    () =>\n      versionData\n        ? versionData.currentVersion < versionData.requiredVersion\n        : false,\n\n    [versionData],\n  );\n\n  useEffect(() => {\n    async function getVersionData(): Promise<void> {\n      const currentVersion = versionStringToNumber(\n        browser_api.runtime.getManifest().version,\n      );\n      const { requiredVersion } = await getSessionMetaApiData();\n\n      setVersionData({\n        requiredVersion: versionStringToNumber(requiredVersion),\n        currentVersion,\n      });\n    }\n\n    void getVersionData();\n  }, []);\n\n  return {\n    isVersionOld,\n  };\n}\n","import { createRoot } from 'react-dom/client';\nimport { App } from './App';\nimport { initSentryReact } from '@app/sentry/initSentryReact';\nimport '@app/i18n';\n\ninitSentryReact();\n\nexport function initPopup(): void {\n  const root = document.createElement('div');\n  root.id = 'popup';\n  document.body.appendChild(root);\n\n  document.addEventListener('DOMContentLoaded', () => {\n    const title = document.createElement('title');\n    title.textContent = process.env.EXTENSION_TITLE;\n    document.head.appendChild(title);\n  });\n\n  createRoot(root).render(<App />);\n}\n"],"names":["featuresList","featureStore","getSnapshotAsync","hasMultiLocales","Feature","MultiLocalesSupport","supportedLngs","resources","ru","en","i18n","LanguageDetector","use","initReactI18next","init","fallbackLng","debug","defaultNS","initSentryReact","Sentry","dsn","process","environment","integrations","tracesSampleRate","tracePropagationTargets","replaysSessionSampleRate","replaysOnErrorSampleRate","skipBrowserExtensionCheck","shared","twihd","useFeaturesList","useSyncExternalStore","subscribe","getSnapshot","FeatureToggler","features","isVisible","setIsVisible","useState","toggleFeature","useCallback","key","isActive","setFeatureValues","useEffect","Object","defineProperty","window","configurable","get","magicToggler","div","className","h3","entries","map","feature","label","input","type","checked","onChange","button","styles","onClick","browser_api","runtime","reload","applyChanges","reset","handleReset","useLocalStorage","defaultValue","value","setValue","storageKey","Array","isArray","storage","local","then","result","listener","changes","newValue","onChanged","addListener","removeListener","set","apiScope","createSentryScope","limitInSeconds","getTimingWithLimit","timingInSec","limitInSec","extend","utc","httpClient","ky","retry","limit","methods","hooks","beforeRequest","metaApiData","getSessionStorageData","SessionStorageKey","MetaApiData","apiUrl","apiBaseUrl","cookieDomain","url","URL","request","hostname","includes","customHeaders","getManifest","version","forEach","headers","beforeRetry","error","retryCount","HTTPError","wait","getFibonacciNumber","retryAfterHeader","response","retryAfterTiming","Number","NaN","isNaN","afterResponse","options","ok","responseClone","clone","timestampUtc","dayjs","format","responseData","json","err","requestLog","status","statusText","apiHttpSuccess","ApiHttpSuccess","setSessionStorageData","beforeError","message","requestClone","setExtra","setLevel","setTag","method","captureException","Error","requestData","errorData","errorLog","apiHttpErrors","ApiHttpErrors","getDeviceId","deviceId","localStorageDeviceId","getLocalStorageData","LocalStorageKey","DeviceId","cookieDeviceId","getCookieData","CookieKey","setLocalStorageData","generateDeviceId","crypto","randomUUID","setCookieData","LocalStoragePremiumKey","getLocalStoragePremiumData","keys","setLocalStoragePremiumData","data","deleteLocalStoragePremiumData","remove","FeedbackOverlayContext","createContext","undefined","FeedbackOverlayContextProvider","children","isFeedbackOverlayShown","setIsFeedbackOverlayShown","hasPremium","HasPremium","canFreeUsersReview","useMemo","FreeUsersReview","checkAndShowFeedbackOverlay","feedbackProvided","connectionCount","ConnectionCount","FeedbackProvided","closeFeedbackOverlay","Provider","extensionsMap","cfhdojbkjhnklbpkdaibdccddilifddb","gighmmpiobklfepjocnamgkkbiglidom","ProxyControlledByOtherExtensions","conflictType","dataMonitoring","ExtensionMonitoring","name","setName","fullName","setFullName","icon","setIcon","extensionTitle","hasConflictingExtension","conflictingExtensionIcon","conflictingExtensionId","conflictingExtensionName","extensionNameFromMap","container","content","description","h2","title","img","src","alt","span","br","p","buttons","extensionCode","id","code","isLoading","text","textLink","buttonText","header","footer","t","useTranslation","keyPrefix","defaultText","defaultButtonText","handleClick","clsx","wrapper","emoji","h1","disabled","loader","useConfigsBaseUrl","configsUrl","setConfigsUrl","configsBaseUrl","ConfigsBaseUrl","BrowserError","helpUrl","isNoFAQ","IS_NO_FAQ","a","href","toString","target","rel","ErrorBoundary","Component","getDerivedStateFromError","hasError","render","this","state","props","constructor","super","OldVersionError","usePaymentStatus","paymentStatus","Status","ThemeContext","ThemeContextProvider","theme","isThemeLoading","setTheme","setIsThemeLoading","useLayoutEffect","document","body","classList","toggle","useThemeContext","Alarms","Logo","svg","xmlns","width","height","fill","path","d","Header","TransitionWrapper","isReversed","setIsReversed","location","useLocation","ref","useRef","onMouseDown","event","closest","SwitchTransition","CSSTransition","unmountOnExit","nodeRef","timeout","classNames","enter","enterActive","exit","exitActive","usePremiumData","setIsLoading","premiumDaysLeft","setPremiumDaysLeft","userId","setUserId","deviceLimit","setDeviceLimit","activeDevices","setActiveDevices","setHasPremium","isError","setIsError","premiumSecondsLeft","setPremiumSecondsLeft","getPremiumInfo","daysLeft","hasPremiumCurrently","isSubscriptionInfoError","secondsLeft","UserId","DaysLeft","IsSubscriptionInfoError","SecondsLeft","DeviceLimit","ActiveDevices","Boolean","clearAllAlarms","alarms","clearAll","clearLocalStoragePremiumData","values","clearLocalStorageData","deleteLocalStorageData","clearSessionStorageData","deleteSessionStorageData","clearCookies","removeCookieData","handleLogout","onboardingScreenStatus","RoutePath","ModeSwitcherContext","isYoutubeMode","onModeChange","ButtonLoader","variant","Button","forwardRef","size","sharp","loading","loaderVariant","loaderClassName","rest","common","data-variant","displayName","Loader","xmlnsXlink","viewBox","enableBackground","xmlSpace","circle","stroke","cx","cy","r","animate","attributeName","dur","repeatCount","begin","changeDevice","getSessionMetaApiData","deviceIp","getDeviceIP","ip","DeviceIp","console","warn","changeDeviceApiUrl","post","ChangeDeviceContent","handleCancelChangeDevice","handleChangeDevice","isChangeDeviceError","isChangeDeviceLoading","updateOnboardingScreenStatus","setIsChangeDeviceError","setIsChangeDeviceLoading","navigate","useNavigate","subscriptionInfo","Promise","all","ms","setTimeout","resolve","getSubscriptionInfo","subscription","targetState","TargetState","currentState","useChangeDevice","FreeTrialIcon","rect","x","y","strokeWidth","rx","fillRule","clipRule","FreeTrialContent","open","tryForFree","Link","to","OnboardingStep","stepMap","stepMapReverse","ConnectButton","onExpiredRoute","setStatus","context","useContext","useFeedbackOverlay","getStatus","CurrentState","useConnectButton","enabled","connecting","ModeSwitcherButtonBlockIcon","ModeSwitcherButton","motion","whileTap","scale","ModeSwitcher","switcher","layout","transition","visualDuration","bounce","verifyEmail","email","JSON","stringify","reason","Headers","useEmail","setEmail","setError","isEmailSent","setIsEmailSent","getEmail","submit","e","preventDefault","validationError","emailTrimmed","trim","startsWith","endsWith","test","validateEmail","AuthCodeForm","onStepChange","timeLeft","isTimerRunning","startTimer","initialValues","setValues","inputsRef","current","focus","handlePaste","paste","clipboardData","getData","replace","slice","length","newValues","_","i","Math","min","isValid","every","val","form","onSubmit","join","otp_code","verifyCode","handleSubmit","index","el","handleChange","onKeyDown","handleKeyDown","onFocus","handleFocus","maxLength","onPaste","CodeVerification","EmailVerification","placeholder","autoComplete","inputMode","Onboarding","memo","onboardingStatus","start","duration","setTimeLeft","setIsTimerRunning","interval","setInterval","prev","clearInterval","useTimer","step","setStep","hasInteracted","setHasInteracted","zeroRef","oneRef","stepRefs","StepZero","StepOne","Done","handleStepChange","nextStepNumber","newStep","prevStepNumber","animationClasses","MiniLogo","PremiumPromo","onPromoClick","LayoutWrapper","router","createMemoryRouter","element","setIsYoutubeMode","getModeValue","isAllInternetProxy","IsAllInternetProxy","handleModeChange","ModeSwitcherContextProvider","setOnboardingStatus","getOnboardingData","OnboardingScreenStatus","newOnboardingStatus","useOnboardingScreen","useTheme","handleDeviceChangeError","IsChangeDeviceError","isFreeUser","add","usePremiumAnimation","Root","errorElement","ChangeDevice","FreeTrialScreen","App","handleBrowserErrorClick","handleProxyControlledByOtherExtensionsClick","isBrowserError","showIsProxyControlledByOtherExtensions","showIsAdBlockersWork","handleAdBlockersWorkClick","setShowIsProxyControlledByOtherExtensions","setShowIsAdBlockersWorks","browserError","setBrowserError","checkIsProxyControlledByOtherExtensions","isProxyControlledByOtherExtensions","IsProxyControlledByOtherExtensions","warningAlarm","ExtensionConflictWarningProxy","checkIsAdBlockersWork","isAdBlockersWork","IsAdBlockersWork","ExtensionConflictWarningAdBlocker","checkIsBrowserError","IsBrowserError","popupWasOpened","create","periodInMinutes","useApp","isVersionOld","versionData","setVersionData","currentVersion","requiredVersion","getVersionData","versionStringToNumber","useVersion","React","RouterProvider","initPopup","root","createElement","appendChild","addEventListener","textContent","head","createRoot"],"sourceRoot":""}